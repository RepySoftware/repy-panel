(self.webpackChunkrepy_panel=self.webpackChunkrepy_panel||[]).push([[777],{79777:function(e,t,n){"use strict";n.r(t),n.d(t,{PersonsModule:function(){return A}});var r=n(38583),i=n(44466),o=n(15495),a=n(54655),l=n(96114),s=n(37716),m=n(47590),c=n(38555),d=n(84465),p=n(22238),u=n(26026),f=n(98295),h=n(49983),C=n(32789),S=n(51095),E=n(76627),x=n(58341),g=n(3769);let w=(()=>{class e{transform(e){return g.E.toCpfCnpj(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s["\u0275\u0275definePipe"]({name:"cpfCnpj",type:e,pure:!0}),e})();function v(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"#"),s["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.id)}}function y(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Nome"),s["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function _(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Tipo"),s["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-chip"),s["\u0275\u0275text"](1,"Cliente"),s["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-chip"),s["\u0275\u0275text"](1,"Fornecedor"),s["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275elementStart"](1,"mat-chip-list"),s["\u0275\u0275template"](2,j,2,0,"mat-chip",22),s["\u0275\u0275template"](3,D,2,0,"mat-chip",22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.isCustomer),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.isSupplier)}}function P(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Documento"),s["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"cpfCnpj"),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.documentNumber?s["\u0275\u0275pipeBind1"](2,1,e.documentNumber):null)}}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Endere\xe7o"),s["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.address.description)}}function O(e,t){1&e&&s["\u0275\u0275element"](0,"th",20)}function z(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275elementStart"](1,"a",23),s["\u0275\u0275listener"]("click",function(){const t=s["\u0275\u0275restoreView"](e).$implicit;return s["\u0275\u0275nextContext"]().openForm(t.id)}),s["\u0275\u0275elementStart"](2,"mat-icon"),s["\u0275\u0275text"](3,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function H(e,t){1&e&&s["\u0275\u0275element"](0,"tr",24)}function R(e,t){1&e&&s["\u0275\u0275element"](0,"tr",25)}function V(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",26),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().loadMore()}),s["\u0275\u0275text"](1,"Mais..."),s["\u0275\u0275elementEnd"]()}}let $=(()=>{class e{constructor(e,t,n,r,i){this._personService=e,this._loader=t,this._toast=n,this._dialog=r,this._title=i,this.persons=[],this.personFilter={limit:20,index:0},this.tableColumns=["id","name","type","documentNumber","address","options"]}ngOnInit(){this._title.set("Pessoas - Lista"),this.getPersons()}getPersons(e={}){return new Promise((t,n)=>{this._loader.show(),this._personService.getAll(this.personFilter).subscribe(n=>{this._loader.dismiss(),e.reset&&(this.persons=[]),this.persons=this.persons.concat(n),t()},e=>{this._loader.dismiss(),this._toast.showHttpError(e),n()})})}loadMore(){this.personFilter.index++,this.getPersons()}search(e){this.personFilter.q=e,this.personFilter.index=0,this.getPersons({reset:!0})}openForm(e){this._dialog.open(l.c,{width:"90%",height:"90%",data:{personId:e}}).afterClosed().subscribe(e=>{e&&e.hasUpdate&&this.getPersons({reset:!0})})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](m.R),s["\u0275\u0275directiveInject"](c.D),s["\u0275\u0275directiveInject"](d.k),s["\u0275\u0275directiveInject"](p.uw),s["\u0275\u0275directiveInject"](u.y))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-persons-list"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","documentNumber"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"h1",0),s["\u0275\u0275text"](1,"Pessoas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275elementStart"](4,"mat-form-field",3),s["\u0275\u0275elementStart"](5,"input",4,5),s["\u0275\u0275listener"]("keyup.enter",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](6);return t.search(n.value)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"table",6),s["\u0275\u0275elementContainerStart"](8,7),s["\u0275\u0275template"](9,v,2,0,"th",8),s["\u0275\u0275template"](10,b,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](11,10),s["\u0275\u0275template"](12,y,2,0,"th",8),s["\u0275\u0275template"](13,I,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](14,11),s["\u0275\u0275template"](15,_,2,0,"th",8),s["\u0275\u0275template"](16,k,4,2,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](17,12),s["\u0275\u0275template"](18,P,2,0,"th",8),s["\u0275\u0275template"](19,M,3,3,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](20,13),s["\u0275\u0275template"](21,F,2,0,"th",8),s["\u0275\u0275template"](22,N,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](23,14),s["\u0275\u0275template"](24,O,1,0,"th",8),s["\u0275\u0275template"](25,z,4,0,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275template"](26,H,1,0,"tr",15),s["\u0275\u0275template"](27,R,1,0,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",17),s["\u0275\u0275template"](29,V,2,0,"button",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"button",19),s["\u0275\u0275listener"]("click",function(){return t.openForm()}),s["\u0275\u0275elementStart"](31,"mat-icon"),s["\u0275\u0275text"](32,"add"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("dataSource",t.persons),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.persons.length>=t.personFilter.limit))},directives:[f.KE,h.Nt,C.BZ,C.w1,C.fO,C.Dz,C.as,C.nj,r.O5,S.lW,E.Hw,C.ge,C.ev,x.qn,x.HS,C.XQ,C.Gk],pipes:[w],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),e})();const B=[{path:"",component:(()=>{class e{constructor(e){this._title=e}ngOnInit(){this._title.set("Pessoas")}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](u.y))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-persons"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[a.lC],styles:[""]}),e})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:$},{path:"form",component:l.c},{path:":personId/form",component:l.c}]}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[a.Bz.forChild(B)],a.Bz]}),e})();var T=n(35503),U=n(3679),X=n(78434);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[r.ez,X.o,U.UX,o.h,i.m,T.D,q]]}),e})()},35503:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(37716);let i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({}),e})()}}]);