!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkrepy_panel=self.webpackChunkrepy_panel||[]).push([[777],{79777:function(t,r,i){"use strict";i.r(r),i.d(r,{PersonsModule:function(){return Q}});var o=i(38583),a=i(44466),l=i(15495),c=i(54655),m=i(96114),s=i(37716),u=i(47590),p=i(38555),d=i(84465),f=i(22238),h=i(26026),v=i(98295),C=i(49983),S=i(32789),y=i(51095),E=i(76627),g=i(58341),w=i(3769),x=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){return w.E.toCpfCnpj(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s["\u0275\u0275definePipe"]({name:"cpfCnpj",type:t,pure:!0}),t}();function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"#"),s["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.id)}}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Nome"),s["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function j(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Tipo"),s["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-chip"),s["\u0275\u0275text"](1,"Cliente"),s["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-chip"),s["\u0275\u0275text"](1,"Fornecedor"),s["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275elementStart"](1,"mat-chip-list"),s["\u0275\u0275template"](2,D,2,0,"mat-chip",22),s["\u0275\u0275template"](3,P,2,0,"mat-chip",22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.isCustomer),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.isSupplier)}}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Documento"),s["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"cpfCnpj"),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.documentNumber?s["\u0275\u0275pipeBind1"](2,1,n.documentNumber):null)}}function O(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",20),s["\u0275\u0275text"](1,"Endere\xe7o"),s["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.address.description)}}function H(e,t){1&e&&s["\u0275\u0275element"](0,"th",20)}function R(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",21),s["\u0275\u0275elementStart"](1,"a",23),s["\u0275\u0275listener"]("click",function(){var e=s["\u0275\u0275restoreView"](n).$implicit;return s["\u0275\u0275nextContext"]().openForm(e.id)}),s["\u0275\u0275elementStart"](2,"mat-icon"),s["\u0275\u0275text"](3,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function V(e,t){1&e&&s["\u0275\u0275element"](0,"tr",24)}function $(e,t){1&e&&s["\u0275\u0275element"](0,"tr",25)}function B(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",26),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadMore()}),s["\u0275\u0275text"](1,"Mais..."),s["\u0275\u0275elementEnd"]()}}var T,q,U=function(){var t=function(){function t(n,r,i,o,a){e(this,t),this._personService=n,this._loader=r,this._toast=i,this._dialog=o,this._title=a,this.persons=[],this.personFilter={limit:20,index:0},this.tableColumns=["id","name","type","documentNumber","address","options"]}return n(t,[{key:"ngOnInit",value:function(){this._title.set("Pessoas - Lista"),this.getPersons()}},{key:"getPersons",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e._loader.show(),e._personService.getAll(e.personFilter).subscribe(function(r){e._loader.dismiss(),t.reset&&(e.persons=[]),e.persons=e.persons.concat(r),n()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),r()})})}},{key:"loadMore",value:function(){this.personFilter.index++,this.getPersons()}},{key:"search",value:function(e){this.personFilter.q=e,this.personFilter.index=0,this.getPersons({reset:!0})}},{key:"openForm",value:function(e){var t=this;this._dialog.open(m.c,{width:"90%",height:"90%",data:{personId:e}}).afterClosed().subscribe(function(e){e&&e.hasUpdate&&t.getPersons({reset:!0})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](u.R),s["\u0275\u0275directiveInject"](p.D),s["\u0275\u0275directiveInject"](d.k),s["\u0275\u0275directiveInject"](f.uw),s["\u0275\u0275directiveInject"](h.y))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-persons-list"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","documentNumber"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"h1",0),s["\u0275\u0275text"](1,"Pessoas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275elementStart"](4,"mat-form-field",3),s["\u0275\u0275elementStart"](5,"input",4,5),s["\u0275\u0275listener"]("keyup.enter",function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275reference"](6);return t.search(e.value)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"table",6),s["\u0275\u0275elementContainerStart"](8,7),s["\u0275\u0275template"](9,b,2,0,"th",8),s["\u0275\u0275template"](10,k,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](11,10),s["\u0275\u0275template"](12,I,2,0,"th",8),s["\u0275\u0275template"](13,_,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](14,11),s["\u0275\u0275template"](15,j,2,0,"th",8),s["\u0275\u0275template"](16,M,4,2,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](17,12),s["\u0275\u0275template"](18,F,2,0,"th",8),s["\u0275\u0275template"](19,N,3,3,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](20,13),s["\u0275\u0275template"](21,O,2,0,"th",8),s["\u0275\u0275template"](22,z,2,1,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](23,14),s["\u0275\u0275template"](24,H,1,0,"th",8),s["\u0275\u0275template"](25,R,4,0,"td",9),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275template"](26,V,1,0,"tr",15),s["\u0275\u0275template"](27,$,1,0,"tr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",17),s["\u0275\u0275template"](29,B,2,0,"button",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"button",19),s["\u0275\u0275listener"]("click",function(){return t.openForm()}),s["\u0275\u0275elementStart"](31,"mat-icon"),s["\u0275\u0275text"](32,"add"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("dataSource",t.persons),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.persons.length>=t.personFilter.limit))},directives:[v.KE,C.Nt,S.BZ,S.w1,S.fO,S.Dz,S.as,S.nj,o.O5,y.lW,E.Hw,S.ge,S.ev,g.qn,g.HS,S.XQ,S.Gk],pipes:[x],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),t}(),X=[{path:"",component:(T=function(){function t(n){e(this,t),this._title=n}return n(t,[{key:"ngOnInit",value:function(){this._title.set("Pessoas")}}]),t}(),T.\u0275fac=function(e){return new(e||T)(s["\u0275\u0275directiveInject"](h.y))},T.\u0275cmp=s["\u0275\u0275defineComponent"]({type:T,selectors:[["app-persons"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[c.lC],styles:[""]}),T),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:U},{path:"form",component:m.c},{path:":personId/form",component:m.c}]}],A=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[c.Bz.forChild(X)],c.Bz]}),t}(),G=i(35503),K=i(3679),L=i(78434),Q=((q=function t(){e(this,t)}).\u0275fac=function(e){return new(e||q)},q.\u0275mod=s["\u0275\u0275defineNgModule"]({type:q}),q.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[o.ez,L.o,K.UX,l.h,a.m,G.D,A]]}),q)},35503:function(t,n,r){"use strict";r.d(n,{D:function(){return o}});var i=r(37716),o=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({}),t}()}}])}();