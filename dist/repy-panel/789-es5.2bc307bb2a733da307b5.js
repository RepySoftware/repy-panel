!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(self.webpackChunkrepy_panel=self.webpackChunkrepy_panel||[]).push([[789],{40789:function(t,a,i){"use strict";i.r(a),i.d(a,{DeviceDetailsModule:function(){return N}});var r=i(38583),o=i(37716),l=i(3310),c=i(64099),d=i(22490),s=i(22238),v=i(34811),m=i(38555),p=i(84465),u=i(71419),f=i(32789),g=i(51095),h=i(26835),x=i(18007);function y(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",13),o["\u0275\u0275text"](1,"Data"),o["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",14),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"momentDate"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind2"](2,1,n.createdAt,"DD/MM/YYYY HH:mm"))}}function C(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",13),o["\u0275\u0275text"](1,"Peso do cilindro"),o["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",14),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"round"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](2,1,n.cylinderWeight,2)," Kg ")}}function S(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",13),o["\u0275\u0275text"](1,"Peso total"),o["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",14),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"round"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](2,1,n.weight,2)," Kg ")}}function E(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",13),o["\u0275\u0275text"](1,"Peso g\xe1s"),o["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",14),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"round"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](2,1,n.gasWeight,2)," Kg ")}}function M(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",13),o["\u0275\u0275text"](1,"%"),o["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",14),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"round"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](2,1,n.percentage,2),"% ")}}function k(e,t){1&e&&o["\u0275\u0275element"](0,"tr",15)}function I(e,t){1&e&&o["\u0275\u0275element"](0,"tr",16)}function D(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",17),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().loadMore()}),o["\u0275\u0275text"](1,"Mais..."),o["\u0275\u0275elementEnd"]()}}var L=function(){var t=function(){function t(n,a,i,r){e(this,t),this._deviceService=n,this._loader=a,this._toast=i,this.inputData=r,this.historyReads=[],this.historyReadFilter={limit:40,index:0},this.tableColumns=["createdAt","cylinderWeight","weight","gasWeight","percentage"]}return n(t,[{key:"ngOnInit",value:function(){this.getHistoryReads()}},{key:"getHistoryReads",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,a){e._loader.show(),e._deviceService.getHistoryReads(e.inputData.deviceId,e.historyReadFilter).subscribe(function(a){e._loader.dismiss(),t.reset&&(e.historyReads=[]),e.historyReads=e.historyReads.concat(a),n()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),a()})})}},{key:"loadMore",value:function(){this.historyReadFilter.index++,this.getHistoryReads()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](v.U),o["\u0275\u0275directiveInject"](m.D),o["\u0275\u0275directiveInject"](p.k),o["\u0275\u0275directiveInject"](s.WI))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-device-gas-level-history-reads"]],decls:23,vars:4,consts:[[2,"font-size","26px"],["mat-table","",3,"dataSource"],["matColumnDef","createdAt"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cylinderWeight"],["matColumnDef","weight"],["matColumnDef","gasWeight"],["matColumnDef","percentage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275element"](0,"button-dialog-close"),o["\u0275\u0275elementStart"](1,"h1",0),o["\u0275\u0275text"](2,"Hist\xf3rico"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"table",1),o["\u0275\u0275elementContainerStart"](4,2),o["\u0275\u0275template"](5,y,2,0,"th",3),o["\u0275\u0275template"](6,_,3,4,"td",4),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementContainerStart"](7,5),o["\u0275\u0275template"](8,C,2,0,"th",3),o["\u0275\u0275template"](9,w,3,4,"td",4),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementContainerStart"](10,6),o["\u0275\u0275template"](11,S,2,0,"th",3),o["\u0275\u0275template"](12,b,3,4,"td",4),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementContainerStart"](13,7),o["\u0275\u0275template"](14,E,2,0,"th",3),o["\u0275\u0275template"](15,P,3,4,"td",4),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementContainerStart"](16,8),o["\u0275\u0275template"](17,M,2,0,"th",3),o["\u0275\u0275template"](18,O,3,4,"td",4),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275template"](19,k,1,0,"tr",9),o["\u0275\u0275template"](20,I,1,0,"tr",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",11),o["\u0275\u0275template"](22,D,2,0,"button",12),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("dataSource",t.historyReads),o["\u0275\u0275advance"](16),o["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.historyReads.length>=t.historyReadFilter.limit))},directives:[u.P,f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,r.O5,f.ge,f.ev,f.XQ,f.Gk,g.lW],pipes:[h.v,x.L],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t}(),R=function(){var t=function(){function t(n,a,i){e(this,t),this._loader=n,this._toast=a,this._deviceService=i}return n(t,[{key:"getDevice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:this.deviceId};return new Promise(function(n,a){t.showLoader&&e._loader.show(),e._deviceService.getById(t.id).subscribe(function(a){t.showLoader&&e._loader.dismiss(),e.device=a,e.deviceId=a.id,n(e.device)},function(n){t.showLoader&&e._loader.dismiss(),e._toast.showHttpError(n),a(n)})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](m.D),o["\u0275\u0275inject"](p.k),o["\u0275\u0275inject"](v.U))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),j=i(54655),G=i(93738),H=function(){var t=function(){function t(n,a,i){e(this,t),this._deviceDetailsService=n,this._dialog=a,this._router=i}return n(t,[{key:"ngOnInit",value:function(){}},{key:"openHistoryReads",value:function(){this._dialog.open(L,{width:"60%",height:"90%",data:{deviceId:this._deviceDetailsService.deviceId}})}},{key:"createSale",value:function(){this._router.navigate(["/sales/pos"],{queryParams:{personCustomerId:this._deviceDetailsService.device.person.id}})}},{key:"currentPercentage",get:function(){var e,t,n,a;return Number(null===(a=null===(n=null===(t=null===(e=this._deviceDetailsService)||void 0===e?void 0:e.device)||void 0===t?void 0:t.deviceGasLevel)||void 0===n?void 0:n.percentage)||void 0===a?void 0:a.toFixed(2))}},{key:"deviceGasLevel",get:function(){var e;return null===(e=this._deviceDetailsService.device)||void 0===e?void 0:e.deviceGasLevel}},{key:"getStatusColor",value:function(){var e;return(0,d.hf)(null===(e=this._deviceDetailsService.device.deviceGasLevel)||void 0===e?void 0:e.status)}},{key:"getStatus",value:function(){var e;return(0,d.I9)(null===(e=this._deviceDetailsService.device.deviceGasLevel)||void 0===e?void 0:e.status)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](R),o["\u0275\u0275directiveInject"](s.uw),o["\u0275\u0275directiveInject"](j.F0))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-device-gas-level"]],decls:72,vars:20,consts:[["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px",2,"display","none"],["id","wave"],["d","M420,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C514,6.5,518,4.7,528.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H420z"],["d","M420,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C326,6.5,322,4.7,311.5,2.7C304.3,1.4,293.6-0.1,280,0c0,0,0,0,0,0v20H420z"],["d","M140,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C234,6.5,238,4.7,248.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H140z"],["d","M140,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C46,6.5,42,4.7,31.5,2.7C24.3,1.4,13.6-0.1,0,0c0,0,0,0,0,0l0,20H140z"],[2,"color","var(--color-asbestos)"],[1,"btn-create-sale"],["mat-stroked-button","","color","primary",3,"click"],[2,"margin-top","12px"],["mat-flat-button","","color","primary",3,"click"],[1,"row",2,"padding","20px 0 100px"],[1,"col-md-4",2,"padding-left","0"],[1,"card-percentage"],[1,"level-title"],[1,"status"],[1,"box"],[1,"percent"],["id","count",1,"percentNum"],["id","water",1,"water"],["viewBox","0 0 560 20",1,"water_wave","water_wave_back"],[0,"xlink","href","#wave"],["viewBox","0 0 560 20",1,"water_wave","water_wave_front"],[1,"col-md-8",2,"padding-right","0"],[1,"infos"],[1,"row","danger-day"],[1,"col-md-6"],[1,"card-info"],[1,"row","weights"]],template:function(e,t){1&e&&(o["\u0275\u0275namespaceSVG"](),o["\u0275\u0275elementStart"](0,"svg",0),o["\u0275\u0275elementStart"](1,"symbol",1),o["\u0275\u0275element"](2,"path",2),o["\u0275\u0275element"](3,"path",3),o["\u0275\u0275element"](4,"path",4),o["\u0275\u0275element"](5,"path",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275namespaceHTML"](),o["\u0275\u0275elementStart"](6,"strong",6),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",7),o["\u0275\u0275elementStart"](9,"button",8),o["\u0275\u0275listener"]("click",function(){return t.createSale()}),o["\u0275\u0275text"](10,"Criar pedido"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",9),o["\u0275\u0275elementStart"](12,"button",10),o["\u0275\u0275listener"]("click",function(){return t.openHistoryReads()}),o["\u0275\u0275text"](13,"Hist\xf3rico de leituras"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",11),o["\u0275\u0275elementStart"](15,"div",12),o["\u0275\u0275elementStart"](16,"mat-card",13),o["\u0275\u0275elementStart"](17,"div",14),o["\u0275\u0275text"](18,"N\xedvel atual"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",15),o["\u0275\u0275text"](20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",16),o["\u0275\u0275elementStart"](22,"div",17),o["\u0275\u0275elementStart"](23,"div",18),o["\u0275\u0275text"](24),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"div",19),o["\u0275\u0275namespaceSVG"](),o["\u0275\u0275elementStart"](26,"svg",20),o["\u0275\u0275element"](27,"use",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"svg",22),o["\u0275\u0275element"](29,"use",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275namespaceHTML"](),o["\u0275\u0275elementStart"](30,"div",23),o["\u0275\u0275elementStart"](31,"div",24),o["\u0275\u0275elementStart"](32,"div",25),o["\u0275\u0275elementStart"](33,"div",26),o["\u0275\u0275elementStart"](34,"mat-card",27),o["\u0275\u0275elementStart"](35,"h5"),o["\u0275\u0275text"](36),o["\u0275\u0275pipe"](37,"momentDate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](38,"span"),o["\u0275\u0275text"](39,"Data da pr\xf3xima troca"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](40,"div",26),o["\u0275\u0275elementStart"](41,"mat-card",27),o["\u0275\u0275elementStart"](42,"h5"),o["\u0275\u0275text"](43),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](44,"span"),o["\u0275\u0275text"](45,"M\xe9dia de consumo"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](46,"div",28),o["\u0275\u0275elementStart"](47,"div",26),o["\u0275\u0275elementStart"](48,"mat-card",27),o["\u0275\u0275elementStart"](49,"h5"),o["\u0275\u0275text"](50),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](51,"span"),o["\u0275\u0275text"](52,"Tara do cilindro"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](53,"div",26),o["\u0275\u0275elementStart"](54,"mat-card",27),o["\u0275\u0275elementStart"](55,"h5"),o["\u0275\u0275text"](56),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](57,"span"),o["\u0275\u0275text"](58,"Peso do conte\xfado (cheio)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](59,"div",26),o["\u0275\u0275elementStart"](60,"mat-card",27),o["\u0275\u0275elementStart"](61,"h5"),o["\u0275\u0275text"](62),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](63,"span"),o["\u0275\u0275text"](64,"Peso bruto"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](65,"div",26),o["\u0275\u0275elementStart"](66,"mat-card",27),o["\u0275\u0275elementStart"](67,"h5"),o["\u0275\u0275text"](68),o["\u0275\u0275pipe"](69,"round"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](70,"span"),o["\u0275\u0275text"](71,"Peso l\xedquido"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"]("Cilindro ",(null==t.deviceGasLevel||null==t.deviceGasLevel.cylinder?null:t.deviceGasLevel.cylinder.name)||" - ",""),o["\u0275\u0275advance"](12),o["\u0275\u0275styleProp"]("color",t.getStatusColor()),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](t.getStatus()),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("border-color",t.getStatusColor()),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",t.currentPercentage,"% "),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("transform","translate(0,"+(100-t.currentPercentage)+"%)"),o["\u0275\u0275advance"](11),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](37,15,t.deviceGasLevel.dangerDate)," "),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"]("",t.deviceGasLevel.consumptionDays," dias"),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"]("",null==t.deviceGasLevel?null:t.deviceGasLevel.cylinderWeight,"Kg"),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate1"]("",null==t.deviceGasLevel?null:t.deviceGasLevel.contentWeight,"Kg"),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate1"]("",null==t.deviceGasLevel?null:t.deviceGasLevel.currentWeight,"Kg"),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind2"](69,17,(null==t.deviceGasLevel?null:t.deviceGasLevel.currentWeight)-(null==t.deviceGasLevel?null:t.deviceGasLevel.cylinderWeight),2),"Kg"))},directives:[g.lW,G.a8],pipes:[h.v,x.L],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;outline:none}body[_ngcontent-%COMP%]{background:var(--secondary-color-dark);-webkit-font-smoothing:antialiased}.btn-create-sale[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;line-height:1;margin:6px 0}.card-percentage[_ngcontent-%COMP%]{height:calc(100% - 10px);display:flex;flex-direction:column;grid-gap:8px;gap:8px}.card-percentage[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%]{font-size:24px}.card-percentage[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%], .card-percentage[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{text-align:center;font-weight:700}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin:0 auto;height:180px;width:180px;transform:translate(0);background:#efefef;border-radius:100%;overflow:hidden;border:4px solid #fff}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:3;width:100%;height:100%;display:flex;display:-webkit-flex;align-items:center;justify-content:center;color:#fff;font-size:38px;font-weight:700;text-shadow:var(--primary-color) 3px 0 0,var(--primary-color) 2.83487px .981584px 0,var(--primary-color) 2.35766px 1.85511px 0,var(--primary-color) 1.62091px 2.52441px 0,var(--primary-color) .705713px 2.91581px 0,var(--primary-color) -.287171px 2.98622px 0,var(--primary-color) -1.24844px 2.72789px 0,var(--primary-color) -2.07227px 2.16926px 0,var(--primary-color) -2.66798px 1.37182px 0,var(--primary-color) -2.96998px .42336px 0,var(--primary-color) -2.94502px -.571704px 0,var(--primary-color) -2.59586px -1.50383px 0,var(--primary-color) -1.96093px -2.27041px 0,var(--primary-color) -1.11013px -2.78704px 0,var(--primary-color) -.137119px -2.99686px 0,var(--primary-color) .850987px -2.87677px 0,var(--primary-color) 1.74541px -2.43999px 0,var(--primary-color) 2.44769px -1.73459px 0,var(--primary-color) 2.88051px -.838247px 0}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .water[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:2;width:100%;height:100%;transform:translateY(100%);background:var(--primary-color);transition:all .3s}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .water_wave[_ngcontent-%COMP%]{width:200%;position:absolute;bottom:100%}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .water_wave_back[_ngcontent-%COMP%]{right:0;fill:var(--primary-color-extra-light);-webkit-animation:wave-back 2.8s linear infinite;animation:wave-back 2.8s linear infinite}.card-percentage[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .water_wave_front[_ngcontent-%COMP%]{left:0;fill:var(--primary-color);margin-bottom:-1px;-webkit-animation:wave-front 1.4s linear infinite;animation:wave-front 1.4s linear infinite}@-webkit-keyframes wave-front{to{transform:translate(-50%)}}@keyframes wave-front{to{transform:translate(-50%)}}@-webkit-keyframes wave-back{to{transform:translate(50%)}}@keyframes wave-back{to{transform:translate(50%)}}.infos[_ngcontent-%COMP%]   .weights[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .infos[_ngcontent-%COMP%]   .weights[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}.card-info[_ngcontent-%COMP%]{margin-bottom:10px}.card-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:27px;font-weight:700}.card-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:19px}"]}),t}(),z=i(26026),W=i(76627),B=i(75100),F=i(69604),K=["deviceContainer"];function T(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",13),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275styleProp"]("color",null!=n.device&&n.device.isOnline?"var(--color-nephritis)":"var(--color-pomegranate)"),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",null!=n.device&&n.device.isOnline?"Online":"Offline"," ")}}var V,Y=function(){var t=function(){function t(n,a,i,r,o,c,d,s){var v,m,p;e(this,t),this._activatedRoute=n,this._loader=a,this._toast=i,this.deviceDetailsService=r,this._componentFactoryResolver=o,this._title=c,this._dialog=d,this._router=s,this.deviceTypeComponent=(v={},m=l.Yi.GAS_LEVEL,p=H,m in v?Object.defineProperty(v,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):v[m]=p,v),this._deviceRefreshInterval={interval:null,time:5e3}}return n(t,[{key:"ngOnInit",value:function(){this._title.set("Dispositivo - Detalhes");var e=this._activatedRoute.snapshot.params.id;if(!e)throw this._toast.open("Dispositivo n\xe3o encontrado"),new Error("Device not found");this.initDevice(e)}},{key:"ngOnDestroy",value:function(){clearInterval(this._deviceRefreshInterval.interval)}},{key:"initDevice",value:function(e){var t=this;this.deviceDetailsService.getDevice({id:e,showLoader:!0}).then(function(e){t._title.set("Dispositivo - ".concat(e.name)),t.deviceContainer.clear();var n=t._componentFactoryResolver.resolveComponentFactory(t.deviceTypeComponent[e.type]);t.deviceContainer.createComponent(n),t._deviceRefreshInterval.interval=setInterval(function(){return t.deviceDetailsService.getDevice()},t._deviceRefreshInterval.time)})}},{key:"device",get:function(){return this.deviceDetailsService.device}},{key:"openPerson",value:function(){var e=this;this._dialog.open(c.c,{width:"90%",height:"90%",data:{personId:this.device.person.id}}).afterClosed().subscribe(function(t){t&&t.hasUpdate&&e.deviceDetailsService.getDevice()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](j.gz),o["\u0275\u0275directiveInject"](m.D),o["\u0275\u0275directiveInject"](p.k),o["\u0275\u0275directiveInject"](R),o["\u0275\u0275directiveInject"](o.ComponentFactoryResolver),o["\u0275\u0275directiveInject"](z.y),o["\u0275\u0275directiveInject"](s.uw),o["\u0275\u0275directiveInject"](j.F0))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-device-details"]],viewQuery:function(e,t){var n;(1&e&&o["\u0275\u0275viewQuery"](K,5,o.ViewContainerRef),2&e)&&(o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.deviceContainer=n.first))},decls:25,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","header","default-margin-top"],["mat-stroked-button","","color","primary","routerLink","/devices",1,"btn-back"],[1,"title"],[1,"device-id"],[1,"person"],["href","javascript:;",3,"click"],[1,"address"],[1,"last-update"],["class","is-online",3,"color",4,"ngIf"],[1,"col-12"],["deviceContainer",""],[1,"is-online"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"button",3),o["\u0275\u0275elementStart"](4,"mat-icon"),o["\u0275\u0275text"](5,"arrow_back"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"h1",4),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"span",5),o["\u0275\u0275text"](9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",6),o["\u0275\u0275elementStart"](11,"a",7),o["\u0275\u0275listener"]("click",function(){return t.openPerson()}),o["\u0275\u0275text"](12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",8),o["\u0275\u0275text"](14),o["\u0275\u0275pipe"](15,"address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"span",9),o["\u0275\u0275text"](17),o["\u0275\u0275pipe"](18,"lowercase"),o["\u0275\u0275pipe"](19,"momentCalendar"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](20,T,2,3,"span",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",1),o["\u0275\u0275elementStart"](22,"div",11),o["\u0275\u0275elementContainer"](23,null,12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"]((null==t.device?null:t.device.name)||"Dispositivo"),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("#",(null==t.device?null:t.device.id)||"-",""),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"](" ",null==t.device||null==t.device.person?null:t.device.person.name," (",null==t.device||null==t.device.person?null:t.device.person.id,") "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](15,7,null==t.device?null:t.device.address)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" \xdaltima atualiza\xe7\xe3o ",t.device?o["\u0275\u0275pipeBind1"](18,9,o["\u0275\u0275pipeBind1"](19,11,t.device.deviceGasLevel.lastWeightUpdate)):"-"," "),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.device))},directives:[g.lW,j.rH,W.Hw,r.O5],pipes:[B.q,r.i8,F.g],styles:[".header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:700}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-asbestos)}.header[_ngcontent-%COMP%]   .device-id[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .is-online[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{font-weight:700}"]}),t}(),$=i(15495),q=i(35503),A=i(44466),N=((V=function t(){e(this,t)}).\u0275fac=function(e){return new(e||V)},V.\u0275mod=o["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=o["\u0275\u0275defineInjector"]({providers:[R],imports:[[r.ez,q.D,A.m,$.h,j.Bz.forChild([{path:"",component:Y}])]]}),V)}}])}();