!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkrepy_panel=self.webpackChunkrepy_panel||[]).push([[938],{44836:function(e,t,n){!function(e,t,n){"use strict";var r=function(e){e&&Object.assign(this,e)},o=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new r),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){e.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var n=0,r=t;n<r.length;n++){var o=r[n];o&&o.addEventListener("touchend",function(e){e.stopImmediatePropagation()})}}},500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run(function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)})},t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={options:[{type:n.Input,args:["options"]}],onAddressChange:[{type:n.Output}]},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}(),i=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({}),t}();t.GooglePlaceModule=i,t.GooglePlaceDirective=o,Object.defineProperty(t,"__esModule",{value:!0})}(n(37716),t,n(37716))},3769:function(t,r,o){"use strict";o.d(r,{E:function(){return i}});var i=function(){function t(){e(this,t)}return n(t,null,[{key:"toCpfCnpj",value:function(e){return e?11==e.length?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):14==e.length?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):e:null}},{key:"getOnlyNumbers",value:function(e){return e.replace(/[^0-9\\.]+/g,"")}},{key:"toMoney",value:function(e){return"R$ ".concat(e.toFixed(2).replace(".",","))}}]),t}()},17668:function(t,r,o){"use strict";o.r(r),o.d(r,{ProductsModule:function(){return pe}});var i=o(38583),a=o(54655),l=o(3679),c=o(22238),m=(function(e){e.UN="UN",e.M="M",e.KG="KG"}(m||(m={})),m),d=o(37716),s=o(66082),u=o(75355),p=o(38555),f=o(84465),h=o(98295),v=o(49983),g=o(67441),E=o(45396),S=o(51095),y=o(71419),I=o(72458);function x(e,t){1&e&&d["\u0275\u0275element"](0,"button-dialog-close")}function w(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h3",22),d["\u0275\u0275text"](1,"Novo produto"),d["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"h3",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("Edi\xe7\xe3o ",n.product.name,"")}}function b(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",23),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",n.name," ")}}function k(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",23),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",n," ")}}function D(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}var j=function(){var t=function(){function t(n,r,o,i,a,l,c){e(this,t),this._productService=n,this._activatedRoute=r,this._alert=o,this._loader=i,this._toast=a,this._dialogRef=l,this.inputData=c,this.categories=[],this.measurementUnits=Object.values(m),this.initForm()}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.productId=this._activatedRoute.snapshot.params.productId||this.inputData.productId,this.isModal=!!this.inputData.productId,this.productId&&this.getProduct().then(function(){e.setFormValues()}),this.getCategories()}},{key:"initForm",value:function(){this.productForm=new l.cw({category:new l.NI(null,l.kI.required),code:new l.NI(null,l.kI.required),name:new l.NI(null,l.kI.required),description:new l.NI(null),measurementUnit:new l.NI(null,l.kI.required),isGas:new l.NI(null)})}},{key:"setFormValues",value:function(){this.productForm.get("category").setValue(this.product.category.id),this.productForm.get("code").setValue(this.product.code),this.productForm.get("name").setValue(this.product.name),this.productForm.get("description").setValue(this.product.description),this.productForm.get("measurementUnit").setValue(this.product.measurementUnit),this.productForm.get("isGas").setValue(this.product.isGas)}},{key:"getCategories",value:function(){var e=this;this._productService.getCategories().subscribe(function(t){e.categories=t},function(t){e._toast.showHttpError(t)})}},{key:"getProduct",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.productId;return new Promise(function(n,r){e._loader.show(),e._productService.getById(t).subscribe(function(t){e._loader.dismiss(),e.product=t,n(t)},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})})}},{key:"save",value:function(){var e=this;if(!this.productForm.valid)throw this._toast.open("Preencha todos os campos obrigat\xf3rios","error"),this.productForm.markAllAsTouched(),new Error("Invalid form");var t,n={categoryId:this.productForm.get("category").value,code:this.productForm.get("code").value,name:this.productForm.get("name").value,description:this.productForm.get("description").value,measurementUnit:this.productForm.get("measurementUnit").value,isGas:this.productForm.get("isGas").value};this.product?(n.id=this.product.id,t=this._productService.update(n)):t=this._productService.create(n),this._loader.show(),t.subscribe(function(t){e._loader.dismiss(),e._toast.open("Salvo com sucesso!","success"),e.product=t,e.initForm(),e.setFormValues(),e._dialogRef.close({hasUpdate:!0})},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](s.M),d["\u0275\u0275directiveInject"](a.gz),d["\u0275\u0275directiveInject"](u.O),d["\u0275\u0275directiveInject"](p.D),d["\u0275\u0275directiveInject"](f.k),d["\u0275\u0275directiveInject"](c.so),d["\u0275\u0275directiveInject"](c.WI))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-product-form"]],decls:45,vars:10,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12"],["class","title",4,"ngIf"],[3,"formGroup"],[1,"col-7"],["matInput","","placeholder","Nome","autocomplete","off","formControlName","name"],["name",""],[1,"col-5"],["matInput","","placeholder","C\xf3digo","autocomplete","off","formControlName","code"],["code",""],[1,"col-12"],["matInput","","placeholder","Descri\xe7\xe3o (opcional)","autocomplete","off","formControlName","description"],["description",""],["formControlName","category"],["category",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","measurementUnit"],["measurementUnit",""],[1,"col-2"],["formControlName","isGas",2,"margin-top","24px"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[1,"title"],[3,"value"]],template:function(e,t){if(1&e&&(d["\u0275\u0275template"](0,x,1,0,"button-dialog-close",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275template"](3,w,2,0,"h3",3),d["\u0275\u0275template"](4,C,2,1,"h3",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"form",4),d["\u0275\u0275elementStart"](6,"div",1),d["\u0275\u0275elementStart"](7,"div",5),d["\u0275\u0275elementStart"](8,"mat-form-field"),d["\u0275\u0275element"](9,"input",6,7),d["\u0275\u0275template"](11,b,2,0,"mat-error",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",8),d["\u0275\u0275elementStart"](13,"mat-form-field"),d["\u0275\u0275element"](14,"input",9,10),d["\u0275\u0275template"](16,_,2,0,"mat-error",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",11),d["\u0275\u0275elementStart"](18,"mat-form-field"),d["\u0275\u0275element"](19,"input",12,13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"div",8),d["\u0275\u0275elementStart"](22,"mat-form-field"),d["\u0275\u0275elementStart"](23,"mat-label"),d["\u0275\u0275text"](24,"Categoria"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"mat-select",14,15),d["\u0275\u0275template"](27,P,2,2,"mat-option",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](28,k,2,0,"mat-error",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",8),d["\u0275\u0275elementStart"](30,"mat-form-field"),d["\u0275\u0275elementStart"](31,"mat-label"),d["\u0275\u0275text"](32,"Unidade de medida"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](33,"mat-select",17,18),d["\u0275\u0275template"](35,F,2,2,"mat-option",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](36,D,2,0,"mat-error",0),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"div",19),d["\u0275\u0275elementStart"](38,"mat-slide-toggle",20),d["\u0275\u0275text"](39,"G\xe1s"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](40,"hr"),d["\u0275\u0275elementStart"](41,"div",1),d["\u0275\u0275elementStart"](42,"div",2),d["\u0275\u0275elementStart"](43,"button",21),d["\u0275\u0275listener"]("click",function(){return t.save()}),d["\u0275\u0275text"](44,"Salvar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275reference"](10),r=d["\u0275\u0275reference"](15);d["\u0275\u0275property"]("ngIf",t.isModal),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!t.product),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.product),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.productForm),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngIf",!n.valid),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",!r.valid),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngForOf",t.categories),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.productForm.get("category").valid),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",t.measurementUnits),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.productForm.get("measurementUnit").valid)}},directives:[i.O5,l._Y,l.JL,l.sg,h.KE,v.Nt,l.Fj,l.JJ,l.u,h.hX,g.gD,i.sg,E.Rr,S.lW,y.P,h.TO,I.ey],styles:[""]}),t}();function N(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h3",14),d["\u0275\u0275text"](1,"Novo pre\xe7o"),d["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"h3",14),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("Edi\xe7\xe3o ",n.price.name,"")}}function M(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}function A(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),d["\u0275\u0275elementEnd"]())}var V=function(){var t=function(){function t(n,r,o,i,a){e(this,t),this._productService=n,this._loader=r,this._toast=o,this._dialogRef=i,this.inputData=a,this.initForm()}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.companyBranchProductPriceId=this.inputData.companyBranchProductPriceId,this.companyBranchProductPriceId&&this.getPrice().then(function(){e.setFormValues()})}},{key:"initForm",value:function(){this.priceForm=new l.cw({name:new l.NI(null,l.kI.required),salePrice:new l.NI(null,l.kI.required),isDefault:new l.NI(null),isActive:new l.NI(null)})}},{key:"setFormValues",value:function(){this.priceForm.get("name").setValue(this.price.name),this.priceForm.get("salePrice").setValue(this.price.salePrice),this.priceForm.get("isDefault").setValue(this.price.isDefault),this.priceForm.get("isActive").setValue(this.price.isActive)}},{key:"getPrice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.companyBranchProductPriceId;return new Promise(function(n,r){e._loader.show(),e._productService.getPriceById(e.inputData.productId,t).subscribe(function(t){e._loader.dismiss(),e.price=t,n(t)},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})})}},{key:"save",value:function(){var e=this;if(!this.priceForm.valid)throw this._toast.open("Preencha todos os campos obrigat\xf3rios","error"),this.priceForm.markAllAsTouched(),new Error("Invalid form");var t,n={productId:this.inputData.productId,name:this.priceForm.get("name").value,salePrice:this.priceForm.get("salePrice").value,isDefault:this.priceForm.get("isDefault").value,isActive:this.priceForm.get("isActive").value};this.price?(n.id=this.price.id,t=this._productService.priceUpdate(n)):t=this._productService.priceCreate(n),this._loader.show(),t.subscribe(function(t){e._loader.dismiss(),e._toast.open("Salvo com sucesso!","success"),e.price=t,e.initForm(),e.setFormValues(),e._dialogRef.close({hasUpdate:!0})},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](s.M),d["\u0275\u0275directiveInject"](p.D),d["\u0275\u0275directiveInject"](f.k),d["\u0275\u0275directiveInject"](c.so),d["\u0275\u0275directiveInject"](c.WI))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-product-price-form"]],decls:28,vars:5,consts:[[1,"row"],[1,"col-sm-12"],["class","title",4,"ngIf"],[3,"formGroup"],[1,"col-12"],["matInput","","placeholder","Nome","autocomplete","off","formControlName","name"],["name",""],[4,"ngIf"],["matInput","","placeholder","Pre\xe7o","autocomplete","off","formControlName","salePrice"],["salePrice",""],[2,"display","flex","flex-direction","row","gap","10px"],["formControlName","isDefault"],["formControlName","isActive"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[1,"title"]],template:function(e,t){if(1&e&&(d["\u0275\u0275element"](0,"button-dialog-close"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275template"](3,N,2,0,"h3",2),d["\u0275\u0275template"](4,O,2,1,"h3",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"form",3),d["\u0275\u0275elementStart"](6,"div",0),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275elementStart"](8,"mat-form-field"),d["\u0275\u0275element"](9,"input",5,6),d["\u0275\u0275template"](11,M,2,0,"mat-error",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",4),d["\u0275\u0275elementStart"](13,"mat-form-field"),d["\u0275\u0275element"](14,"input",8,9),d["\u0275\u0275template"](16,A,2,0,"mat-error",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",4),d["\u0275\u0275elementStart"](18,"div",10),d["\u0275\u0275elementStart"](19,"mat-slide-toggle",11),d["\u0275\u0275text"](20,"Pre\xe7o padr\xe3o"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"mat-slide-toggle",12),d["\u0275\u0275text"](22,"Ativo"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"hr"),d["\u0275\u0275elementStart"](24,"div",0),d["\u0275\u0275elementStart"](25,"div",1),d["\u0275\u0275elementStart"](26,"button",13),d["\u0275\u0275listener"]("click",function(){return t.save()}),d["\u0275\u0275text"](27,"Salvar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275reference"](10),r=d["\u0275\u0275reference"](15);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!t.price),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.price),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.priceForm),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngIf",!n.valid),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",!r.valid)}},directives:[y.P,i.O5,l._Y,l.JL,l.sg,h.KE,v.Nt,l.Fj,l.JJ,l.u,E.Rr,S.lW,h.TO],styles:[""]}),t}(),U=o(76627),$=o(15169),G=o(69604);function R(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" - ",n.inputData.product.name,"")}}function z(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td",8),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"money"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"td"),d["\u0275\u0275text"](7),d["\u0275\u0275pipe"](8,"momentCalendar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"td"),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td"),d["\u0275\u0275text"](12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"td"),d["\u0275\u0275elementStart"](14,"a",9),d["\u0275\u0275listener"]("click",function(){var e=d["\u0275\u0275restoreView"](n).$implicit;return d["\u0275\u0275nextContext"]().openPriceForm(e)}),d["\u0275\u0275elementStart"](15,"mat-icon"),d["\u0275\u0275text"](16,"edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r.name),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](5,5,r.salePrice)," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](8,7,r.updatedAt)),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](r.isDefault?"\u2705":"\u274c"),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r.isActive?"\u2705":"\u274c")}}var B=function(){var t=function(){function t(n,r,o,i,a){e(this,t),this._productService=n,this._dialog=r,this._loader=o,this._toast=i,this.inputData=a}return n(t,[{key:"ngOnInit",value:function(){this.getPrices()}},{key:"getPrices",value:function(){var e=this;this._loader.show(),this._productService.getPrices(this.inputData.product.id).subscribe(function(t){e._loader.dismiss(),e.prices=t},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}},{key:"openPriceForm",value:function(e){var t=this;this._dialog.open(V,{width:"40%",data:{productId:this.inputData.product.id,companyBranchProductPriceId:null==e?void 0:e.id}}).afterClosed().subscribe(function(e){e&&e.hasUpdate&&t.getPrices()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](s.M),d["\u0275\u0275directiveInject"](c.uw),d["\u0275\u0275directiveInject"](p.D),d["\u0275\u0275directiveInject"](f.k),d["\u0275\u0275directiveInject"](c.WI))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-product-prices"]],decls:27,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"title"],[4,"ngIf"],[1,"col-12"],[1,"prices-table"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",2,"margin-top","12px",3,"click"],[2,"font-weight","bold","color","var(--color-alizarin)"],["href","javascript:;",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275element"](0,"button-dialog-close"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"h3",2),d["\u0275\u0275text"](4," Lista de pre\xe7os "),d["\u0275\u0275template"](5,R,2,1,"span",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",0),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275elementStart"](8,"table",5),d["\u0275\u0275elementStart"](9,"thead"),d["\u0275\u0275elementStart"](10,"tr"),d["\u0275\u0275elementStart"](11,"th"),d["\u0275\u0275text"](12,"Nome"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"th"),d["\u0275\u0275text"](14,"Pre\xe7o"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"th"),d["\u0275\u0275text"](16,"\xdaltima atualiza\xe7\xe3o"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"th"),d["\u0275\u0275text"](18,"Padr\xe3o"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"th"),d["\u0275\u0275text"](20,"Ativo"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](21,"th"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"tbody"),d["\u0275\u0275template"](23,z,17,9,"tr",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",4),d["\u0275\u0275elementStart"](25,"button",7),d["\u0275\u0275listener"]("click",function(){return t.openPriceForm()}),d["\u0275\u0275text"](26,"Novo pre\xe7o"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.inputData.product),d["\u0275\u0275advance"](18),d["\u0275\u0275property"]("ngForOf",t.prices))},directives:[y.P,i.O5,i.sg,S.lW,U.Hw],pipes:[$.L,G.g],styles:[".prices-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px}.prices-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .prices-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd}"]}),t}(),H=o(26026),L=o(32789);function q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th",21),d["\u0275\u0275text"](1,"#"),d["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"td",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.id)}}function W(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th",21),d["\u0275\u0275text"](1,"C\xf3d."),d["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"td",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.code," ")}}function K(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th",21),d["\u0275\u0275text"](1,"Nome"),d["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"td",23),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function X(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th",21),d["\u0275\u0275text"](1,"UM"),d["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"td",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.measurementUnit," ")}}function Q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"th",21),d["\u0275\u0275text"](1,"Categoria"),d["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"td",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.category.name," ")}}function te(e,t){1&e&&d["\u0275\u0275element"](0,"th",21)}function ne(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"td",22),d["\u0275\u0275elementStart"](1,"div",24),d["\u0275\u0275elementStart"](2,"div"),d["\u0275\u0275elementStart"](3,"button",25),d["\u0275\u0275listener"]("click",function(){var e=d["\u0275\u0275restoreView"](n).$implicit;return d["\u0275\u0275nextContext"]().openPrices(e)}),d["\u0275\u0275text"](4,"Pre\xe7os"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div"),d["\u0275\u0275elementStart"](6,"a",26),d["\u0275\u0275listener"]("click",function(){var e=d["\u0275\u0275restoreView"](n).$implicit;return d["\u0275\u0275nextContext"]().openForm(e.id)}),d["\u0275\u0275elementStart"](7,"mat-icon"),d["\u0275\u0275text"](8,"edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function re(e,t){1&e&&d["\u0275\u0275element"](0,"tr",27)}function oe(e,t){1&e&&d["\u0275\u0275element"](0,"tr",28)}function ie(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",29),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().loadMore()}),d["\u0275\u0275text"](1,"Mais..."),d["\u0275\u0275elementEnd"]()}}var ae,le,ce=[{path:"",component:(ae=function(){function t(n,r,o,i,a){e(this,t),this._productService=n,this._loader=r,this._toast=o,this._dialog=i,this._title=a,this.products=[],this.productFilter={limit:20,index:0},this.tableColumns=["id","code","name","measurementUnit","category","options"]}return n(t,[{key:"ngOnInit",value:function(){this._title.set("Produtos"),this.getProducts()}},{key:"getProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e._loader.show(),e._productService.getAll(e.productFilter).subscribe(function(r){e._loader.dismiss(),t.reset&&(e.products=[]),e.products=e.products.concat(r),n()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),r()})})}},{key:"loadMore",value:function(){this.productFilter.index++,this.getProducts()}},{key:"search",value:function(e){this.productFilter.q=e,this.productFilter.index=0,this.getProducts({reset:!0})}},{key:"openForm",value:function(e){var t=this;this._dialog.open(j,{width:"60%",height:"90%",data:{productId:e}}).afterClosed().subscribe(function(e){e&&e.hasUpdate&&t.getProducts({reset:!0})})}},{key:"openPrices",value:function(e){this._dialog.open(B,{width:"60%",height:"90%",data:{product:e}})}}]),t}(),ae.\u0275fac=function(e){return new(e||ae)(d["\u0275\u0275directiveInject"](s.M),d["\u0275\u0275directiveInject"](p.D),d["\u0275\u0275directiveInject"](f.k),d["\u0275\u0275directiveInject"](c.uw),d["\u0275\u0275directiveInject"](H.y))},ae.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ae,selectors:[["app-products"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","name"],["mat-cell","","style","font-weight: bold;",4,"matCellDef"],["matColumnDef","measurementUnit"],["matColumnDef","category"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"font-weight","bold"],[1,"options-actions"],["mat-stroked-button","","color","primary",3,"click"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"h1",0),d["\u0275\u0275text"](1,"Produtos"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"mat-form-field",3),d["\u0275\u0275elementStart"](5,"input",4,5),d["\u0275\u0275listener"]("keyup.enter",function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275reference"](6);return t.search(e.value)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"table",6),d["\u0275\u0275elementContainerStart"](8,7),d["\u0275\u0275template"](9,q,2,0,"th",8),d["\u0275\u0275template"](10,T,2,1,"td",9),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](11,10),d["\u0275\u0275template"](12,W,2,0,"th",8),d["\u0275\u0275template"](13,J,2,1,"td",9),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](14,11),d["\u0275\u0275template"](15,K,2,0,"th",8),d["\u0275\u0275template"](16,Z,2,1,"td",12),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](17,13),d["\u0275\u0275template"](18,X,2,0,"th",8),d["\u0275\u0275template"](19,Y,2,1,"td",9),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](20,14),d["\u0275\u0275template"](21,Q,2,0,"th",8),d["\u0275\u0275template"](22,ee,2,1,"td",9),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](23,15),d["\u0275\u0275template"](24,te,1,0,"th",8),d["\u0275\u0275template"](25,ne,9,0,"td",9),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275template"](26,re,1,0,"tr",16),d["\u0275\u0275template"](27,oe,1,0,"tr",17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"div",18),d["\u0275\u0275template"](29,ie,2,0,"button",19),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"button",20),d["\u0275\u0275listener"]("click",function(){return t.openForm()}),d["\u0275\u0275elementStart"](31,"mat-icon"),d["\u0275\u0275text"](32,"add"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("dataSource",t.products),d["\u0275\u0275advance"](19),d["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.products.length>=t.productFilter.limit))},directives:[h.KE,v.Nt,L.BZ,L.w1,L.fO,L.Dz,L.as,L.nj,i.O5,S.lW,U.Hw,L.ge,L.ev,L.XQ,L.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:64px;background:#eee;z-index:10}table[_ngcontent-%COMP%]   .options-actions[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:5px;gap:5px}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),ae)}],me=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[a.Bz.forChild(ce)],a.Bz]}),t}(),de=o(15495),se=o(44466),ue=o(35503),pe=((le=function t(){e(this,t)}).\u0275fac=function(e){return new(e||le)},le.\u0275mod=d["\u0275\u0275defineNgModule"]({type:le}),le.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[de.h,i.ez,me,se.m,l.UX,ue.D,l.u5]]}),le)},35503:function(t,n,r){"use strict";r.d(n,{D:function(){return i}});var o=r(37716),i=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({}),t}()},44466:function(t,n,r){"use strict";r.d(n,{m:function(){return s}});var o=r(15495),i=r(35503),a=r(38583),l=r(69129),c=r(3679),m=r(44836),d=r(37716),s=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[o.h,i.D,a.ez,l.yI,c.UX,c.u5,m.GooglePlaceModule],l.yI]}),t}()}}])}();