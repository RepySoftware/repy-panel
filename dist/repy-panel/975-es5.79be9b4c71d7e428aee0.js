!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkrepy_panel=self.webpackChunkrepy_panel||[]).push([[975],{42975:function(n,r,a){"use strict";a.r(r),a.d(r,{ProductsModule:function(){return R}});var i=a(38583),o=a(54655),l=a(37716),c=a(66082),m=a(38555),d=a(84465),u=a(22238),p=a(26026),s=a(98295),f=a(49983),h=a(32789),v=a(51095),C=a(76627);function x(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"#"),l["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.id)}}function g(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"C\xf3d."),l["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.code," ")}}function E(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"Nome"),l["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function b(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"UM"),l["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.measurementUnit," ")}}function I(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"Categoria"),l["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.category.name," ")}}function D(e,t){1&e&&l["\u0275\u0275element"](0,"th",20)}function j(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275elementStart"](1,"a",22),l["\u0275\u0275listener"]("click",function(){var e=l["\u0275\u0275restoreView"](n).$implicit;return l["\u0275\u0275nextContext"]().openForm(e.id)}),l["\u0275\u0275elementStart"](2,"mat-icon"),l["\u0275\u0275text"](3,"edit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function P(e,t){1&e&&l["\u0275\u0275element"](0,"tr",23)}function M(e,t){1&e&&l["\u0275\u0275element"](0,"tr",24)}function F(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",25),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().loadMore()}),l["\u0275\u0275text"](1,"Mais..."),l["\u0275\u0275elementEnd"]()}}var O,z,V=[{path:"",component:(O=function(){function n(t,r,a,i,o){e(this,n),this._productService=t,this._loader=r,this._toast=a,this._dialog=i,this._title=o,this.products=[],this.productFilter={limit:20,index:0},this.tableColumns=["id","code","name","measurementUnit","category","options"]}var r,a,i;return r=n,(a=[{key:"ngOnInit",value:function(){this._title.set("Produtos"),this.getProducts()}},{key:"getProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e._loader.show(),e._productService.getAll(e.productFilter).subscribe(function(r){e._loader.dismiss(),t.reset&&(e.products=[]),e.products=e.products.concat(r),n()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),r()})})}},{key:"loadMore",value:function(){this.productFilter.index++,this.getProducts()}},{key:"search",value:function(e){this.productFilter.q=e,this.productFilter.index=0,this.getProducts({reset:!0})}},{key:"openForm",value:function(e){}}])&&t(r.prototype,a),i&&t(r,i),n}(),O.\u0275fac=function(e){return new(e||O)(l["\u0275\u0275directiveInject"](c.M),l["\u0275\u0275directiveInject"](m.D),l["\u0275\u0275directiveInject"](d.k),l["\u0275\u0275directiveInject"](u.uw),l["\u0275\u0275directiveInject"](p.y))},O.\u0275cmp=l["\u0275\u0275defineComponent"]({type:O,selectors:[["app-products"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","name"],["matColumnDef","measurementUnit"],["matColumnDef","category"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"h1",0),l["\u0275\u0275text"](1,"Produtos"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](2,"div",1),l["\u0275\u0275elementStart"](3,"div",2),l["\u0275\u0275elementStart"](4,"mat-form-field",3),l["\u0275\u0275elementStart"](5,"input",4,5),l["\u0275\u0275listener"]("keyup.enter",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](6);return t.search(e.value)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"table",6),l["\u0275\u0275elementContainerStart"](8,7),l["\u0275\u0275template"](9,x,2,0,"th",8),l["\u0275\u0275template"](10,S,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](11,10),l["\u0275\u0275template"](12,g,2,0,"th",8),l["\u0275\u0275template"](13,w,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](14,11),l["\u0275\u0275template"](15,E,2,0,"th",8),l["\u0275\u0275template"](16,y,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](17,12),l["\u0275\u0275template"](18,b,2,0,"th",8),l["\u0275\u0275template"](19,k,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](20,13),l["\u0275\u0275template"](21,I,2,0,"th",8),l["\u0275\u0275template"](22,_,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](23,14),l["\u0275\u0275template"](24,D,1,0,"th",8),l["\u0275\u0275template"](25,j,4,0,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275template"](26,P,1,0,"tr",15),l["\u0275\u0275template"](27,M,1,0,"tr",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"div",17),l["\u0275\u0275template"](29,F,2,0,"button",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"button",19),l["\u0275\u0275listener"]("click",function(){return t.openForm()}),l["\u0275\u0275elementStart"](31,"mat-icon"),l["\u0275\u0275text"](32,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("dataSource",t.products),l["\u0275\u0275advance"](19),l["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.products.length>=t.productFilter.limit))},directives:[s.KE,f.Nt,h.BZ,h.w1,h.fO,h.Dz,h.as,h.nj,i.O5,v.lW,C.Hw,h.ge,h.ev,h.XQ,h.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),O)}],$=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[o.Bz.forChild(V)],o.Bz]}),t}(),H=a(6591),R=((z=function t(){e(this,t)}).\u0275fac=function(e){return new(e||z)},z.\u0275mod=l["\u0275\u0275defineNgModule"]({type:z}),z.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[H.h,i.ez,$]]}),z)}}])}();