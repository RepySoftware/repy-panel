(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PdK0:function(e,t,n){"use strict";n.r(t),n.d(t,"PersonsModule",function(){return A});var r=n("ofXK"),a=n("PCNd"),o=n("ssao"),i=n("tyNb"),l=n("aHvM"),m=n("fXoL"),s=n("TmGi"),c=n("5dVO"),d=n("2g2N"),p=n("0IaG"),u=n("kmnG"),f=n("qFsG"),h=n("+0xr"),C=n("bTqV"),S=n("NFeN"),E=n("A5z7"),b=n("YxCE");function w(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"#"),m["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.id)}}function v(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Nome"),m["\u0275\u0275elementEnd"]())}function g(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function y(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Tipo"),m["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-chip"),m["\u0275\u0275text"](1,"Cliente"),m["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-chip"),m["\u0275\u0275text"](1,"Fornecedor"),m["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275elementStart"](1,"mat-chip-list"),m["\u0275\u0275template"](2,I,2,0,"mat-chip",21),m["\u0275\u0275template"](3,D,2,0,"mat-chip",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.isCustomer),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSupplier)}}function k(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Documento"),m["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"cpfCnpj"),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.documentNumber?m["\u0275\u0275pipeBind1"](2,1,e.documentNumber):null)}}function j(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Endere\xe7o"),m["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.address.description)}}function _(e,t){1&e&&m["\u0275\u0275element"](0,"th",19)}function M(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",20),m["\u0275\u0275elementStart"](1,"a",22),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().openForm(n.id)}),m["\u0275\u0275elementStart"](2,"mat-icon"),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function V(e,t){1&e&&m["\u0275\u0275element"](0,"tr",23)}function $(e,t){1&e&&m["\u0275\u0275element"](0,"tr",24)}function H(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",25),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().loadMore()}),m["\u0275\u0275text"](1,"Mais..."),m["\u0275\u0275elementEnd"]()}}let O=(()=>{class e{constructor(e,t,n,r){this._personService=e,this._loader=t,this._toast=n,this._dialog=r,this.persons=[],this.personFilter={limit:20,index:0},this.tableColumns=["id","name","type","documentNumber","address","options"]}ngOnInit(){this.getPersons()}getPersons(e={}){return new Promise((t,n)=>{this._loader.show(),this._personService.getAll(this.personFilter).subscribe(n=>{this._loader.dismiss(),e.reset&&(this.persons=[]),this.persons=this.persons.concat(n),t()},e=>{this._loader.dismiss(),this._toast.showHttpError(e),n()})})}loadMore(){this.personFilter.index++,this.getPersons()}search(e){this.personFilter.q=e,this.personFilter.index=0,this.getPersons({reset:!0})}openForm(e){this._dialog.open(l.a,{width:"90%",height:"90%",data:{personId:e}}).afterClosed().subscribe(e=>{e&&e.hasUpdate&&this.getPersons({reset:!0})})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](s.a),m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](p.b))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-persons-list"]],decls:31,vars:4,consts:[[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","documentNumber"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"mat-form-field",2),m["\u0275\u0275elementStart"](3,"input",3,4),m["\u0275\u0275listener"]("keyup.enter",function(){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275reference"](4);return t.search(n.value)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"table",5),m["\u0275\u0275elementContainerStart"](6,6),m["\u0275\u0275template"](7,w,2,0,"th",7),m["\u0275\u0275template"](8,x,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](9,9),m["\u0275\u0275template"](10,v,2,0,"th",7),m["\u0275\u0275template"](11,g,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,10),m["\u0275\u0275template"](13,y,2,0,"th",7),m["\u0275\u0275template"](14,F,4,2,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,11),m["\u0275\u0275template"](16,k,2,0,"th",7),m["\u0275\u0275template"](17,P,3,3,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](18,12),m["\u0275\u0275template"](19,j,2,0,"th",7),m["\u0275\u0275template"](20,N,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](21,13),m["\u0275\u0275template"](22,_,1,0,"th",7),m["\u0275\u0275template"](23,M,4,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](24,V,1,0,"tr",14),m["\u0275\u0275template"](25,$,1,0,"tr",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",16),m["\u0275\u0275template"](27,H,2,0,"button",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"button",18),m["\u0275\u0275listener"]("click",function(){return t.openForm()}),m["\u0275\u0275elementStart"](29,"mat-icon"),m["\u0275\u0275text"](30,"add"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("dataSource",t.persons),m["\u0275\u0275advance"](19),m["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.persons.length>=t.personFilter.limit))},directives:[u.c,f.b,h.j,h.c,h.e,h.b,h.g,h.i,r.k,C.a,S.a,h.d,h.a,E.b,E.a,h.f,h.h],pipes:[b.a],styles:["table[_ngcontent-%COMP%]{width:100%}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),e})();const R=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-persons"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-sm-12"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"h1"),m["\u0275\u0275text"](3,"Pessoas"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](4,"router-outlet"))},directives:[i.g],styles:[""]}),e})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:O},{path:"form",component:l.a},{path:":personId/form",component:l.a}]}];let T=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.f.forChild(R)],i.f]}),e})();var G=n("iTUp"),q=n("3Pt+"),U=n("FUS3");let A=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,U.a,q.p,o.a,a.a,G.a,T]]}),e})()}}]);