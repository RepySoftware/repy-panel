!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PdK0:function(t,i,o){"use strict";var a,s,l;o.r(i),o.d(i,"PersonsModule",function(){return Xe});var d,m,c,p,u,f,h=o("ofXK"),v=o("PCNd"),g=o("ssao"),S=o("tyNb"),E=o("3Pt+"),C=o("0IaG"),y=function(e){return e.CONTRIBUTOR="CONTRIBUTOR",e.EXEMPT="EXEMPT",e.NON_CONTRIBUTOR="NON_CONTRIBUTOR",e}({}),b=(r(a={},y.CONTRIBUTOR,"Contribuinte ICMS"),r(a,y.EXEMPT,"Contribuinte isento de Inscri\xe7\xe3o no Cadastro de Contribuintes"),r(a,y.NON_CONTRIBUTOR,"N\xe3o contribuinte"),a),_=function(e){return e.UNDEFINED="UNDEFINED",e.NATIONAL_SIMPLE="NATIONAL_SIMPLE",e.NATIONAL_SIMPLE_EXCESS_GROSS_REVENUE_SUB_LIMIT="NATIONAL_SIMPLE_EXCESS_GROSS_REVENUE_SUB_LIMIT",e.NORMAL="NORMAL",e}({}),I=(r(s={},_.UNDEFINED,"N\xe3o definido"),r(s,_.NATIONAL_SIMPLE,"Simples nacional"),r(s,_.NATIONAL_SIMPLE_EXCESS_GROSS_REVENUE_SUB_LIMIT,"Simples nacional - Excesso de sublimite de receita bruta"),r(s,_.NORMAL,"Regime normal"),s),x=function(e){return e.NORMAL="NORMAL",e.LEGAL="LEGAL",e}({}),N=(r(l={},x.LEGAL,"Jur\xeddica"),r(l,x.NORMAL,"F\xedsica"),l),w=function(){function t(){e(this,t)}return n(t,null,[{key:"toCpfCnpj",value:function(e){return 11==e.length?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):14==e.length?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):e}},{key:"getOnlyNumbers",value:function(e){return e.replace(/[^0-9\\.]+/g,"")}}]),t}(),F=o("fXoL"),R=o("TmGi"),k=o("5dVO"),O=o("2g2N"),P=o("DgsJ"),T=o("kmnG"),A=o("d3UM"),M=o("qFsG"),V=o("tmjD"),j=o("bSwM"),L=o("1jcm"),D=o("7itd"),$=["addressSearch"],B=function(){return{country:"BR"}},U=function(e){return{componentRestrictions:e}},G=((d=function(){function t(n,r,i){var o=this;e(this,t),this._addressConfigService=n,this._toast=r,this._cdRef=i,this.insertedAddress=!1,this.addressTouched=!1,this.clearAddress(),this.initForm(),this._addressConfigService.setFormValuesEmitter.subscribe(function(){return o.setFormValues()})}return n(t,[{key:"ngAfterViewInit",value:function(){this.setFormValues()}},{key:"initForm",value:function(){this.addressForm=new E.f({addressSearch:new E.d(null),referencePoint:new E.d(null),complement:new E.d(null)})}},{key:"clearAddress",value:function(){this._addressConfigService.address={description:null,zipCode:null,city:null,region:null,country:null,referencePoint:null,complement:null,latitude:null,longitude:null}}},{key:"setFormValues",value:function(){this._addressConfigService.address?(this._addressConfigService.address={description:this._addressConfigService.address.description,zipCode:this._addressConfigService.address.zipCode,city:this._addressConfigService.address.city,region:this._addressConfigService.address.region,country:this._addressConfigService.address.country,referencePoint:this._addressConfigService.address.referencePoint,complement:this._addressConfigService.address.complement,latitude:this._addressConfigService.address.latitude,longitude:this._addressConfigService.address.longitude},this.addressSearchInput.nativeElement.value=this._addressConfigService.address.description,this.addressForm.get("referencePoint").setValue(this._addressConfigService.address.referencePoint),this.addressForm.get("complement").setValue(this._addressConfigService.address.complement),this.insertedAddress=!0,this._cdRef.detectChanges()):this.clearAddress()}},{key:"addressChanged",value:function(e){this._addressConfigService.address.description=e.formatted_address,this._addressConfigService.address.city=e.address_components.find(function(e){return e.types.includes("administrative_area_level_2")}).long_name,this._addressConfigService.address.region=e.address_components.find(function(e){return e.types.includes("administrative_area_level_1")}).long_name,this._addressConfigService.address.country=e.address_components.find(function(e){return e.types.includes("country")}).long_name;var t=e.address_components.find(function(e){return e.types.includes("postal_code")});this._addressConfigService.address.zipCode=t?t.long_name:null,this._addressConfigService.address.latitude=e.geometry.location.lat(),this._addressConfigService.address.longitude=e.geometry.location.lng(),this.insertedAddress=!0}},{key:"addressFocus",value:function(){this.addressSearchInput.nativeElement.value=null,this.insertedAddress=!1,this.clearAddress()}},{key:"addressBlur",value:function(){this.addressTouched=!0}}]),t}()).\u0275fac=function(e){return new(e||d)(F["\u0275\u0275directiveInject"](P.a),F["\u0275\u0275directiveInject"](O.a),F["\u0275\u0275directiveInject"](F.ChangeDetectorRef))},d.\u0275cmp=F["\u0275\u0275defineComponent"]({type:d,selectors:[["app-address-config"]],viewQuery:function(e,t){var n;1&e&&F["\u0275\u0275viewQuery"]($,!0),2&e&&F["\u0275\u0275queryRefresh"](n=F["\u0275\u0275loadQuery"]())&&(t.addressSearchInput=n.first)},decls:15,vars:5,consts:[["autocomplete","off",3,"formGroup"],[1,"row",2,"margin-bottom","100px"],[1,"col-12"],["matInput","","formControlName","addressSearch","placeholder","Digite o endere\xe7o","autocomplete","off","ngx-google-places-autocomplete","",3,"options","onAddressChange","focus","blur"],["addressSearch","","placesRef","ngx-places"],[1,"col-md-6"],["matInput","","placeholder","Complemento (opcional)","autocomplete","off","formControlName","complement"],["name",""],["matInput","","placeholder","Ponto de refer\xeancia (opcional)","autocomplete","off","formControlName","referencePoint"]],template:function(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"form",0),F["\u0275\u0275elementStart"](1,"div",1),F["\u0275\u0275elementStart"](2,"div",2),F["\u0275\u0275elementStart"](3,"mat-form-field"),F["\u0275\u0275elementStart"](4,"input",3,4),F["\u0275\u0275listener"]("onAddressChange",function(e){return t.addressChanged(e)})("focus",function(){return t.addressFocus()})("blur",function(){return t.addressBlur()}),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](7,"div",5),F["\u0275\u0275elementStart"](8,"mat-form-field"),F["\u0275\u0275element"](9,"input",6,7),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](11,"div",5),F["\u0275\u0275elementStart"](12,"mat-form-field"),F["\u0275\u0275element"](13,"input",8,7),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()),2&e&&(F["\u0275\u0275property"]("formGroup",t.addressForm),F["\u0275\u0275advance"](4),F["\u0275\u0275property"]("options",F["\u0275\u0275pureFunction1"](3,U,F["\u0275\u0275pureFunction0"](2,B))))},directives:[E.q,E.m,E.g,T.c,M.b,E.c,E.l,E.e,D.GooglePlaceDirective],styles:[".address-input[_ngcontent-%COMP%]{width:100%;padding:13px 0 8px;border:none;outline:none;margin-left:15px;background:transparent}.input-error[_ngcontent-%COMP%]{display:block}"]}),d),q=o("MutI"),X=o("f0Cb"),z=o("bTqV"),J=o("NFeN"),H=((m=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||m)},m.\u0275cmp=F["\u0275\u0275defineComponent"]({type:m,selectors:[["button-dialog-close"]],decls:3,vars:0,consts:[["mat-icon-button","","mat-dialog-close","",2,"float","right"]],template:function(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"button",0),F["\u0275\u0275elementStart"](1,"mat-icon"),F["\u0275\u0275text"](2,"close"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]())},directives:[z.a,C.c,J.a],styles:[""]}),m),K=o("FKr1"),Q=((f=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){return w.toCpfCnpj(e)}}]),t}()).\u0275fac=function(e){return new(e||f)},f.\u0275pipe=F["\u0275\u0275definePipe"]({name:"cpfCnpj",type:f,pure:!0}),f),W=((u=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){return function(e){return N[e]}(e)}}]),t}()).\u0275fac=function(e){return new(e||u)},u.\u0275pipe=F["\u0275\u0275definePipe"]({name:"personType",type:u,pure:!0}),u),Y=((p=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){return function(e){return I[e]}(e)}}]),t}()).\u0275fac=function(e){return new(e||p)},p.\u0275pipe=F["\u0275\u0275definePipe"]({name:"personTaxRegime",type:p,pure:!0}),p),Z=((c=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){return function(e){return b[e]}(e)}}]),t}()).\u0275fac=function(e){return new(e||c)},c.\u0275pipe=F["\u0275\u0275definePipe"]({name:"personIcmsContributorType",type:c,pure:!0}),c);function ee(e,t){1&e&&F["\u0275\u0275element"](0,"button-dialog-close")}function te(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"h3",34),F["\u0275\u0275text"](1,"Nova pessoa"),F["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"h3",34),F["\u0275\u0275text"](1),F["\u0275\u0275pipe"](2,"cpfCnpj"),F["\u0275\u0275elementEnd"]()),2&e){var n=F["\u0275\u0275nextContext"]();F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate2"]("Edi\xe7\xe3o ",n.person.name," - ",F["\u0275\u0275pipeBind1"](2,2,n.person.documentNumber),"")}}function re(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"mat-option",35),F["\u0275\u0275text"](1),F["\u0275\u0275pipe"](2,"personType"),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275property"]("value",n),F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate1"](" ",F["\u0275\u0275pipeBind1"](2,2,n)," ")}}function ie(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function oe(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function ae(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"mat-option",35),F["\u0275\u0275text"](1),F["\u0275\u0275pipe"](2,"personTaxRegime"),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275property"]("value",n),F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate1"](" ",F["\u0275\u0275pipeBind1"](2,2,n)," ")}}function le(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function de(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"mat-option",35),F["\u0275\u0275text"](1),F["\u0275\u0275pipe"](2,"personIcmsContributorType"),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275property"]("value",n),F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate1"](" ",F["\u0275\u0275pipeBind1"](2,2,n)," ")}}function me(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function ce(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function pe(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-error"),F["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),F["\u0275\u0275elementEnd"]())}function ue(e,t){if(1&e){var n=F["\u0275\u0275getCurrentView"]();F["\u0275\u0275elementStart"](0,"mat-list-item",36),F["\u0275\u0275elementStart"](1,"span"),F["\u0275\u0275text"](2),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](3,"mat-icon",37),F["\u0275\u0275listener"]("click",function(){F["\u0275\u0275restoreView"](n);var e=t.index;return F["\u0275\u0275nextContext"]().removePhone(e)}),F["\u0275\u0275text"](4,"close"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;F["\u0275\u0275advance"](2),F["\u0275\u0275textInterpolate1"](" ",r.phone," ")}}var fe,he=((fe=function(){function t(n,i,o,a,s,l){var d;e(this,t),this._personService=n,this._activatedRoute=i,this._loader=o,this._toast=a,this._addressConfigService=s,this.inputData=l,this.phones=[],this.personTypes=Object.values(x),this.personTaxRegimes=Object.values(_),this.personIcmsContributorTypes=Object.values(y),this.documentNumberMasks=(r(d={},x.NORMAL,"000.000.000-00"),r(d,x.LEGAL,"00.000.000/0000-00"),d),this.initForm()}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.personId=this._activatedRoute.snapshot.params.personId||this.inputData.personId,this.isModal=!!this.inputData.personId,this.personId&&this.getPerson().then(function(){return e.setFormValues()})}},{key:"initForm",value:function(){this.personForm=new E.f({type:new E.d(x.NORMAL,E.p.required),documentNumber:new E.d(null),name:new E.d(null,E.p.required),tradeName:new E.d(null),email:new E.d(null,E.p.email),isSupplier:new E.d(null),isCustomer:new E.d(!0),taxRegime:new E.d(_.UNDEFINED,E.p.required),icmsContributorType:new E.d(null),stateRegistration:new E.d(null),municipalRegistration:new E.d(null),isActive:new E.d(!0)})}},{key:"setFormValues",value:function(){this.personForm.get("type").setValue(this.person.type),this.personForm.get("documentNumber").setValue(this.person.documentNumber),this.personForm.get("name").setValue(this.person.name),this.personForm.get("tradeName").setValue(this.person.tradeName),this.personForm.get("email").setValue(this.person.email),this.personForm.get("isSupplier").setValue(this.person.isSupplier),this.personForm.get("isCustomer").setValue(this.person.isCustomer),this.personForm.get("taxRegime").setValue(this.person.taxRegime),this.personForm.get("icmsContributorType").setValue(this.person.icmsContributorType),this.personForm.get("stateRegistration").setValue(this.person.stateRegistration),this.personForm.get("municipalRegistration").setValue(this.person.municipalRegistration),this.personForm.get("isActive").setValue(this.person.isActive),this._addressConfigService.address=this.person.address,this._addressConfigService.setFormValues(),this.phones=this.person.phones}},{key:"getPerson",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.personId;return new Promise(function(n,r){e._loader.show(),e._personService.getById(t).subscribe(function(t){e._loader.dismiss(),e.person=t,n()},function(t){e._loader.dismiss(),e._toast.showError(t)})})}},{key:"addPhone",value:function(e){var t=e.value?w.getOnlyNumbers(e.value):null;if(!t||t.length<8)throw this._toast.open("Telefone inv\xe1lido"),new Error("Invalid phone");this.phones.push({phone:t}),e.value=null,e.focus()}},{key:"removePhone",value:function(e){this.phones.splice(e,1)}},{key:"save",value:function(){var e=this;if(!this.personForm.valid)throw this._toast.open("Preencha todos os campos obrigat\xf3rios"),new Error("Invalid form");var t,n={type:this.personForm.get("type").value,documentNumber:this.personForm.get("documentNumber").value,name:this.personForm.get("name").value,tradeName:this.personForm.get("tradeName").value,email:this.personForm.get("email").value,address:this._addressConfigService.address&&this._addressConfigService.address.description?{description:this._addressConfigService.address.description,zipCode:this._addressConfigService.address.zipCode,city:this._addressConfigService.address.city,region:this._addressConfigService.address.region,country:this._addressConfigService.address.country,complement:this._addressConfigService.address.complement,referencePoint:this._addressConfigService.address.referencePoint,latitude:this._addressConfigService.address.latitude,longitude:this._addressConfigService.address.longitude}:null,isSupplier:this.personForm.get("isSupplier").value,isCustomer:this.personForm.get("isCustomer").value,taxRegime:this.personForm.get("taxRegime").value,icmsContributorType:this.personForm.get("icmsContributorType").value,stateRegistration:this.personForm.get("stateRegistration").value,municipalRegistration:this.personForm.get("municipalRegistration").value,isActive:this.personForm.get("isActive").value,personPhones:this.phones};this.person?(n.id=this.person.id,t=this._personService.update(n)):t=this._personService.create(n),this._loader.show(),t.subscribe(function(t){e._loader.dismiss(),e._toast.open("Salvo com sucesso!"),e.person=t,e.initForm(),e.setFormValues()},function(t){e._loader.dismiss(),e._toast.showError(t)})}}]),t}()).\u0275fac=function(e){return new(e||fe)(F["\u0275\u0275directiveInject"](R.a),F["\u0275\u0275directiveInject"](S.a),F["\u0275\u0275directiveInject"](k.a),F["\u0275\u0275directiveInject"](O.a),F["\u0275\u0275directiveInject"](P.a),F["\u0275\u0275directiveInject"](C.a))},fe.\u0275cmp=F["\u0275\u0275defineComponent"]({type:fe,selectors:[["app-person-form"]],decls:91,vars:17,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12"],["class","title",4,"ngIf"],[3,"formGroup"],[1,"col-12"],[1,"col-md-3"],["formControlName","type"],["type",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","CPF/CNPJ","autocomplete","off","formControlName","documentNumber",3,"mask"],["documentNumber",""],[1,"col-md-6"],["matInput","","placeholder","Nome","autocomplete","off","formControlName","name"],["name",""],["matInput","","placeholder","Nome Fantasia","autocomplete","off","formControlName","tradeName"],["tradeName",""],[1,"col-md-6",2,"padding-top","30px"],["formControlName","isSupplier",1,"role-checkbox"],["formControlName","isCustomer",1,"role-checkbox"],["formControlName","isActive"],["formControlName","taxRegime"],["taxRegime",""],["formControlName","icmsContributorType"],["icmsContributorType",""],["matInput","","placeholder","Inscri\xe7\xe3o estadual","autocomplete","off","formControlName","stateRegistration"],["stateRegistration",""],["matInput","","placeholder","Inscri\xe7\xe3o municipal","autocomplete","off","formControlName","municipalRegistration"],["municipalRegistration",""],["class","phone-item",4,"ngFor","ngForOf"],["matInput","","placeholder","Novo telefone","mask","(00) 000000000","autocomplete","off"],["phone",""],["type","button","mat-stroked-button","",3,"disabled","click"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[1,"title"],[3,"value"],[1,"phone-item"],[1,"close",3,"click"]],template:function(e,t){if(1&e){var n=F["\u0275\u0275getCurrentView"]();F["\u0275\u0275template"](0,ee,1,0,"button-dialog-close",0),F["\u0275\u0275elementStart"](1,"div",1),F["\u0275\u0275elementStart"](2,"div",2),F["\u0275\u0275template"](3,te,2,0,"h3",3),F["\u0275\u0275template"](4,ne,3,4,"h3",3),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](5,"form",4),F["\u0275\u0275elementStart"](6,"div",1),F["\u0275\u0275elementStart"](7,"div",5),F["\u0275\u0275elementStart"](8,"h5"),F["\u0275\u0275text"](9,"Geral"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](10,"div",1),F["\u0275\u0275elementStart"](11,"div",6),F["\u0275\u0275elementStart"](12,"mat-form-field"),F["\u0275\u0275elementStart"](13,"mat-label"),F["\u0275\u0275text"](14,"Tipo"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](15,"mat-select",7,8),F["\u0275\u0275template"](17,re,3,4,"mat-option",9),F["\u0275\u0275elementEnd"](),F["\u0275\u0275template"](18,ie,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](19,"div",6),F["\u0275\u0275elementStart"](20,"mat-form-field"),F["\u0275\u0275element"](21,"input",10,11),F["\u0275\u0275template"](23,oe,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](24,"div",12),F["\u0275\u0275elementStart"](25,"mat-form-field"),F["\u0275\u0275element"](26,"input",13,14),F["\u0275\u0275template"](28,ae,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](29,"div",12),F["\u0275\u0275elementStart"](30,"mat-form-field"),F["\u0275\u0275element"](31,"input",15,16),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](33,"div",17),F["\u0275\u0275elementStart"](34,"mat-checkbox",18),F["\u0275\u0275text"](35,"Fornecedor"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](36,"mat-checkbox",19),F["\u0275\u0275text"](37,"Cliente"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](38,"mat-slide-toggle",20),F["\u0275\u0275text"](39,"Ativo"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](40,"div",12),F["\u0275\u0275elementStart"](41,"mat-form-field"),F["\u0275\u0275elementStart"](42,"mat-label"),F["\u0275\u0275text"](43,"Regime tribut\xe1rio"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](44,"mat-select",21,22),F["\u0275\u0275template"](46,se,3,4,"mat-option",9),F["\u0275\u0275elementEnd"](),F["\u0275\u0275template"](47,le,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](48,"div",12),F["\u0275\u0275elementStart"](49,"mat-form-field"),F["\u0275\u0275elementStart"](50,"mat-label"),F["\u0275\u0275text"](51,"Contribuinte"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](52,"mat-select",23,24),F["\u0275\u0275template"](54,de,3,4,"mat-option",9),F["\u0275\u0275elementEnd"](),F["\u0275\u0275template"](55,me,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](56,"div",12),F["\u0275\u0275elementStart"](57,"mat-form-field"),F["\u0275\u0275element"](58,"input",25,26),F["\u0275\u0275template"](60,ce,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](61,"div",12),F["\u0275\u0275elementStart"](62,"mat-form-field"),F["\u0275\u0275element"](63,"input",27,28),F["\u0275\u0275template"](65,pe,2,0,"mat-error",0),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275element"](66,"hr"),F["\u0275\u0275elementStart"](67,"div",1),F["\u0275\u0275elementStart"](68,"div",5),F["\u0275\u0275elementStart"](69,"h5"),F["\u0275\u0275text"](70,"Endere\xe7o"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275element"](71,"app-address-config"),F["\u0275\u0275element"](72,"hr"),F["\u0275\u0275elementStart"](73,"div",1),F["\u0275\u0275elementStart"](74,"div",5),F["\u0275\u0275elementStart"](75,"h5"),F["\u0275\u0275text"](76,"Telefones"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](77,"div",12),F["\u0275\u0275elementStart"](78,"mat-list"),F["\u0275\u0275template"](79,ue,5,1,"mat-list-item",29),F["\u0275\u0275element"](80,"mat-divider"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](81,"mat-form-field"),F["\u0275\u0275element"](82,"input",30,31),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](84,"button",32),F["\u0275\u0275listener"]("click",function(){F["\u0275\u0275restoreView"](n);var e=F["\u0275\u0275reference"](83);return t.addPhone(e)}),F["\u0275\u0275text"](85,"Adicionar"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275element"](86,"hr"),F["\u0275\u0275elementStart"](87,"div",1),F["\u0275\u0275elementStart"](88,"div",2),F["\u0275\u0275elementStart"](89,"button",33),F["\u0275\u0275listener"]("click",function(){return t.save()}),F["\u0275\u0275text"](90,"Salvar"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()}if(2&e){var r=F["\u0275\u0275reference"](16),i=F["\u0275\u0275reference"](22),o=F["\u0275\u0275reference"](27),a=F["\u0275\u0275reference"](59),s=F["\u0275\u0275reference"](64),l=F["\u0275\u0275reference"](83);F["\u0275\u0275property"]("ngIf",t.isModal),F["\u0275\u0275advance"](3),F["\u0275\u0275property"]("ngIf",!t.person),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("ngIf",t.person),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("formGroup",t.personForm),F["\u0275\u0275advance"](12),F["\u0275\u0275property"]("ngForOf",t.personTypes),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("ngIf",!t.personForm.get("type").valid),F["\u0275\u0275advance"](3),F["\u0275\u0275property"]("mask",t.documentNumberMasks[r.value]),F["\u0275\u0275advance"](2),F["\u0275\u0275property"]("ngIf",!i.valid),F["\u0275\u0275advance"](5),F["\u0275\u0275property"]("ngIf",!o.valid),F["\u0275\u0275advance"](18),F["\u0275\u0275property"]("ngForOf",t.personTaxRegimes),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("ngIf",!t.personForm.get("taxRegime").valid),F["\u0275\u0275advance"](7),F["\u0275\u0275property"]("ngForOf",t.personIcmsContributorTypes),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("ngIf",!t.personForm.get("icmsContributorType").valid),F["\u0275\u0275advance"](5),F["\u0275\u0275property"]("ngIf",!a.valid),F["\u0275\u0275advance"](5),F["\u0275\u0275property"]("ngIf",!s.valid),F["\u0275\u0275advance"](14),F["\u0275\u0275property"]("ngForOf",t.phones),F["\u0275\u0275advance"](5),F["\u0275\u0275property"]("disabled",!l.value)}},directives:[h.k,E.q,E.m,E.g,T.c,T.f,A.a,E.l,E.e,h.j,M.b,E.c,V.a,j.a,L.a,G,q.a,X.a,z.a,H,K.k,T.b,q.d,J.a],pipes:[Q,W,Y,Z],styles:["form[_ngcontent-%COMP%]{margin-top:12px}.role-checkbox[_ngcontent-%COMP%]{margin-right:16px}.phone-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}"]}),fe),ve=o("+0xr"),ge=o("A5z7");function Se(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"th",19),F["\u0275\u0275text"](1,"#"),F["\u0275\u0275elementEnd"]())}function Ee(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275text"](1),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate"](n.id)}}function Ce(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"th",19),F["\u0275\u0275text"](1,"Nome"),F["\u0275\u0275elementEnd"]())}function ye(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275text"](1),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function be(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"th",19),F["\u0275\u0275text"](1,"Tipo"),F["\u0275\u0275elementEnd"]())}function _e(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-chip"),F["\u0275\u0275text"](1,"Cliente"),F["\u0275\u0275elementEnd"]())}function Ie(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"mat-chip"),F["\u0275\u0275text"](1,"Fornecedor"),F["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275elementStart"](1,"mat-chip-list"),F["\u0275\u0275template"](2,_e,2,0,"mat-chip",21),F["\u0275\u0275template"](3,Ie,2,0,"mat-chip",21),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275advance"](2),F["\u0275\u0275property"]("ngIf",n.isCustomer),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("ngIf",n.isSupplier)}}function Ne(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"th",19),F["\u0275\u0275text"](1,"Documento"),F["\u0275\u0275elementEnd"]())}function we(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275text"](1),F["\u0275\u0275pipe"](2,"cpfCnpj"),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate"](n.documentNumber?F["\u0275\u0275pipeBind1"](2,1,n.documentNumber):null)}}function Fe(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"th",19),F["\u0275\u0275text"](1,"Endere\xe7o"),F["\u0275\u0275elementEnd"]())}function Re(e,t){if(1&e&&(F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275text"](1),F["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;F["\u0275\u0275advance"](1),F["\u0275\u0275textInterpolate"](n.address.description)}}function ke(e,t){1&e&&F["\u0275\u0275element"](0,"th",19)}function Oe(e,t){if(1&e){var n=F["\u0275\u0275getCurrentView"]();F["\u0275\u0275elementStart"](0,"td",20),F["\u0275\u0275elementStart"](1,"a",22),F["\u0275\u0275listener"]("click",function(){F["\u0275\u0275restoreView"](n);var e=t.$implicit;return F["\u0275\u0275nextContext"]().openForm(e.id)}),F["\u0275\u0275elementStart"](2,"mat-icon"),F["\u0275\u0275text"](3,"edit"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()}}function Pe(e,t){1&e&&F["\u0275\u0275element"](0,"tr",23)}function Te(e,t){1&e&&F["\u0275\u0275element"](0,"tr",24)}function Ae(e,t){if(1&e){var n=F["\u0275\u0275getCurrentView"]();F["\u0275\u0275elementStart"](0,"button",25),F["\u0275\u0275listener"]("click",function(){return F["\u0275\u0275restoreView"](n),F["\u0275\u0275nextContext"]().loadMore()}),F["\u0275\u0275text"](1,"Mais..."),F["\u0275\u0275elementEnd"]()}}var Me,Ve,je,Le,De,$e=((Me=function(){function t(n,r,i,o){e(this,t),this._personService=n,this._loader=r,this._toast=i,this._dialog=o,this.persons=[],this.personFilter={limit:20,index:0},this.tableColumns=["id","name","type","documentNumber","address","options"]}return n(t,[{key:"ngOnInit",value:function(){this.getPersons()}},{key:"getPersons",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e._loader.show(),e._personService.getAll(e.personFilter).subscribe(function(r){e._loader.dismiss(),t.reset&&(e.persons=[]),e.persons=e.persons.concat(r),n()},function(t){e._loader.dismiss(),e._toast.showError(t),r()})})}},{key:"loadMore",value:function(){this.personFilter.index++,this.getPersons()}},{key:"search",value:function(e){this.personFilter.q=e,this.personFilter.index=0,this.getPersons({reset:!0})}},{key:"openForm",value:function(e){var t=this;this._dialog.open(he,{width:"90%",height:"90%",data:{personId:e}}).afterClosed().subscribe(function(){t.getPersons({reset:!0})})}}]),t}()).\u0275fac=function(e){return new(e||Me)(F["\u0275\u0275directiveInject"](R.a),F["\u0275\u0275directiveInject"](k.a),F["\u0275\u0275directiveInject"](O.a),F["\u0275\u0275directiveInject"](C.b))},Me.\u0275cmp=F["\u0275\u0275defineComponent"]({type:Me,selectors:[["app-persons-list"]],decls:31,vars:4,consts:[[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","documentNumber"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){var n=F["\u0275\u0275getCurrentView"]();F["\u0275\u0275elementStart"](0,"div",0),F["\u0275\u0275elementStart"](1,"div",1),F["\u0275\u0275elementStart"](2,"mat-form-field",2),F["\u0275\u0275elementStart"](3,"input",3,4),F["\u0275\u0275listener"]("keyup.enter",function(){F["\u0275\u0275restoreView"](n);var e=F["\u0275\u0275reference"](4);return t.search(e.value)}),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](5,"table",5),F["\u0275\u0275elementContainerStart"](6,6),F["\u0275\u0275template"](7,Se,2,0,"th",7),F["\u0275\u0275template"](8,Ee,2,1,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275elementContainerStart"](9,9),F["\u0275\u0275template"](10,Ce,2,0,"th",7),F["\u0275\u0275template"](11,ye,2,1,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275elementContainerStart"](12,10),F["\u0275\u0275template"](13,be,2,0,"th",7),F["\u0275\u0275template"](14,xe,4,2,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275elementContainerStart"](15,11),F["\u0275\u0275template"](16,Ne,2,0,"th",7),F["\u0275\u0275template"](17,we,3,3,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275elementContainerStart"](18,12),F["\u0275\u0275template"](19,Fe,2,0,"th",7),F["\u0275\u0275template"](20,Re,2,1,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275elementContainerStart"](21,13),F["\u0275\u0275template"](22,ke,1,0,"th",7),F["\u0275\u0275template"](23,Oe,4,0,"td",8),F["\u0275\u0275elementContainerEnd"](),F["\u0275\u0275template"](24,Pe,1,0,"tr",14),F["\u0275\u0275template"](25,Te,1,0,"tr",15),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](26,"div",16),F["\u0275\u0275template"](27,Ae,2,0,"button",17),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementStart"](28,"button",18),F["\u0275\u0275listener"]("click",function(){return t.openForm()}),F["\u0275\u0275elementStart"](29,"mat-icon"),F["\u0275\u0275text"](30,"add"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"]()}2&e&&(F["\u0275\u0275advance"](5),F["\u0275\u0275property"]("dataSource",t.persons),F["\u0275\u0275advance"](19),F["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),F["\u0275\u0275advance"](1),F["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),F["\u0275\u0275advance"](2),F["\u0275\u0275property"]("ngIf",t.persons.length>=t.personFilter.limit))},directives:[T.c,M.b,ve.j,ve.c,ve.e,ve.b,ve.g,ve.i,h.k,z.a,J.a,ve.d,ve.a,ge.b,ge.a,ve.f,ve.h],pipes:[Q],styles:["table[_ngcontent-%COMP%]{width:100%}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),Me),Be=[{path:"",component:(Ve=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}(),Ve.\u0275fac=function(e){return new(e||Ve)},Ve.\u0275cmp=F["\u0275\u0275defineComponent"]({type:Ve,selectors:[["app-persons"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-sm-12"]],template:function(e,t){1&e&&(F["\u0275\u0275elementStart"](0,"div",0),F["\u0275\u0275elementStart"](1,"div",1),F["\u0275\u0275elementStart"](2,"h1"),F["\u0275\u0275text"](3,"Pessoas"),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275elementEnd"](),F["\u0275\u0275element"](4,"router-outlet"))},directives:[S.g],styles:[""]}),Ve),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:$e},{path:"form",component:he},{path:":personId/form",component:he}]}],Ue=((je=function t(){e(this,t)}).\u0275mod=F["\u0275\u0275defineNgModule"]({type:je}),je.\u0275inj=F["\u0275\u0275defineInjector"]({factory:function(e){return new(e||je)},imports:[[S.f.forChild(Be)],S.f]}),je),Ge=o("iTUp"),qe=((De=function t(){e(this,t)}).\u0275mod=F["\u0275\u0275defineNgModule"]({type:De}),De.\u0275inj=F["\u0275\u0275defineInjector"]({factory:function(e){return new(e||De)},providers:[],imports:[[E.h,E.o]]}),De),Xe=((Le=function t(){e(this,t)}).\u0275mod=F["\u0275\u0275defineNgModule"]({type:Le}),Le.\u0275inj=F["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Le)},imports:[[h.b,qe,E.o,g.a,v.a,Ge.a,Ue]]}),Le)}}])}();