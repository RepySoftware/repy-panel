(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{U1Ny:function(e,t,n){"use strict";n.r(t),n.d(t,"SalesModule",function(){return V});var r=n("ofXK"),a=n("tyNb"),l=n("fXoL"),o=n("wZkO"),m=n("TmGi"),i=n("5dVO"),s=n("2g2N"),c=n("kmnG"),d=n("qFsG"),p=n("bTqV"),u=n("+0xr"),h=n("A5z7");const f=["generalSearch"],S=["nameSearch"],E=["phoneSearch"],y=["addressSearch"];function v(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",26),l["\u0275\u0275text"](1,"#"),l["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.id)}}function C(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",26),l["\u0275\u0275text"](1,"Nome"),l["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function g(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",26),l["\u0275\u0275text"](1,"Telefones"),l["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-chip"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e)}}function k(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",27),l["\u0275\u0275elementStart"](1,"mat-chip-list"),l["\u0275\u0275template"](2,x,2,1,"mat-chip",28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.phones)}}function F(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",26),l["\u0275\u0275text"](1,"Endere\xe7o"),l["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate2"](" ",e.addressDescription," ",e.addressComplement?"(compl: "+e.addressComplement+")":""," ")}}function D(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th",26),l["\u0275\u0275text"](1,"Op\xe7\xf5es"),l["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&l["\u0275\u0275element"](0,"td",27)}function j(e,t){1&e&&l["\u0275\u0275element"](0,"tr",29)}function Q(e,t){1&e&&l["\u0275\u0275element"](0,"tr",30)}function R(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",13),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().loadMore()}),l["\u0275\u0275text"](1,"Mais..."),l["\u0275\u0275elementEnd"]()}}let _=(()=>{class e{constructor(e,t,n){this._personService=e,this._loader=t,this._toast=n,this.persons=[],this.personSearchFilter={limit:30,index:0},this.tableColumns=["id","name","phones","address","options"]}ngOnInit(){}getPersons(e={}){return new Promise((t,n)=>{this._loader.show(),this._personService.search(this.personSearchFilter).subscribe(n=>{this._loader.dismiss(),e.reset&&(this.persons=[]),this.persons=this.persons.concat(n),t()},e=>{this._loader.dismiss(),this._toast.showError(e),n()})})}loadMore(){this.personSearchFilter.index++,this.getPersons()}clearFilter(){this.personSearchFilter.q=null,this.personSearchFilter.name=null,this.personSearchFilter.phone=null,this.personSearchFilter.address=null}search(){this.personSearchFilter.q=this.generalSearchElement.nativeElement.value||null,this.personSearchFilter.name=this.nameSearchElement.nativeElement.value||null,this.personSearchFilter.phone=this.phoneSearchElement.nativeElement.value||null,this.personSearchFilter.address=this.addressSearchElement.nativeElement.value||null,this.personSearchFilter.index=0,this.getPersons({reset:!0})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](i.a),l["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pos-customer"]],viewQuery:function(e,t){if(1&e&&(l["\u0275\u0275viewQuery"](f,!0),l["\u0275\u0275viewQuery"](S,!0),l["\u0275\u0275viewQuery"](E,!0),l["\u0275\u0275viewQuery"](y,!0)),2&e){let e;l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.generalSearchElement=e.first),l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.nameSearchElement=e.first),l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.phoneSearchElement=e.first),l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.addressSearchElement=e.first)}},decls:44,vars:4,consts:[[1,"row"],[1,"col-12"],["matInput","","placeholder","Geral","autocomplete","off",3,"keyup.enter"],["generalSearch",""],[1,"col-md-4"],["matInput","","placeholder","Nome","autocomplete","off",3,"keyup.enter"],["nameSearch",""],["matInput","","placeholder","Telefone","autocomplete","off",3,"keyup.enter"],["phoneSearch",""],["matInput","","placeholder","Endere\xe7o","autocomplete","off",3,"keyup.enter"],["addressSearch",""],[1,"row",2,"margin-bottom","15px !important"],["mat-stroked-button","","color","primary",2,"margin-right","15px",3,"click"],["mat-flat-button","","color","primary",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","phones"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"mat-form-field"),l["\u0275\u0275elementStart"](3,"input",2,3),l["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"input",5,6),l["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",4),l["\u0275\u0275elementStart"](10,"mat-form-field"),l["\u0275\u0275elementStart"](11,"input",7,8),l["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",4),l["\u0275\u0275elementStart"](14,"mat-form-field"),l["\u0275\u0275elementStart"](15,"input",9,10),l["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",11),l["\u0275\u0275elementStart"](18,"div",1),l["\u0275\u0275elementStart"](19,"button",12),l["\u0275\u0275listener"]("click",function(){return t.clearFilter()}),l["\u0275\u0275text"](20,"Limpar filtros"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"button",13),l["\u0275\u0275listener"]("click",function(){return t.search()}),l["\u0275\u0275text"](22,"Buscar"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"div",0),l["\u0275\u0275elementStart"](24,"table",14),l["\u0275\u0275elementContainerStart"](25,15),l["\u0275\u0275template"](26,v,2,0,"th",16),l["\u0275\u0275template"](27,w,2,1,"td",17),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](28,18),l["\u0275\u0275template"](29,C,2,0,"th",16),l["\u0275\u0275template"](30,b,2,1,"td",17),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](31,19),l["\u0275\u0275template"](32,g,2,0,"th",16),l["\u0275\u0275template"](33,k,3,1,"td",17),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](34,20),l["\u0275\u0275template"](35,F,2,0,"th",16),l["\u0275\u0275template"](36,I,2,2,"td",17),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](37,21),l["\u0275\u0275template"](38,D,2,0,"th",16),l["\u0275\u0275template"](39,O,1,0,"td",17),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275template"](40,j,1,0,"tr",22),l["\u0275\u0275template"](41,Q,1,0,"tr",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](42,"div",24),l["\u0275\u0275template"](43,R,2,0,"button",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](24),l["\u0275\u0275property"]("dataSource",t.persons),l["\u0275\u0275advance"](16),l["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.persons.length>=t.personSearchFilter.limit))},directives:[c.c,d.b,p.a,u.j,u.c,u.e,u.b,u.g,u.i,r.k,u.d,u.a,h.b,r.j,h.a,u.f,u.h],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})(),q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pos-order"]],decls:2,vars:0,template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1,"pos-order works!"),l["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pos-summary"]],decls:2,vars:0,template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1,"pos-summary works!"),l["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),N=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sales-pos"]],decls:7,vars:0,consts:[["label","Cliente"],["label","Pedido"],["label","Finalizar"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-tab-group"),l["\u0275\u0275elementStart"](1,"mat-tab",0),l["\u0275\u0275element"](2,"app-pos-customer"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"mat-tab",1),l["\u0275\u0275element"](4,"app-pos-order"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"mat-tab",2),l["\u0275\u0275element"](6,"app-pos-summary"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())},directives:[o.b,o.a,_,q,M],styles:[""]}),e})();const P=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sales"]],decls:1,vars:0,template:function(e,t){1&e&&l["\u0275\u0275element"](0,"router-outlet")},directives:[a.g],styles:[""]}),e})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"pos",component:N}]}];let T=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(P)],a.f]}),e})();var $=n("PCNd"),G=n("ssao");let V=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,$.a,G.a,T]]}),e})()}}]);