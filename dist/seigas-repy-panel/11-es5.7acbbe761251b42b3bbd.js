!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{U1Ny:function(e,r,a){"use strict";a.r(r),a.d(r,"SalesModule",function(){return ae});var o,l=a("ofXK"),i=a("tyNb"),s=a("fXoL"),c=a("wZkO"),m=a("aHvM"),d=a("TmGi"),p=a("5dVO"),u=a("2g2N"),f=a("0IaG"),h=((o=function e(){n(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275prov=s["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac}),o),v=a("kmnG"),S=a("qFsG"),y=a("bTqV"),E=a("+0xr"),C=a("NFeN"),x=a("A5z7"),b=["generalSearch"],g=["nameSearch"],w=["phoneSearch"],k=["addressSearch"];function P(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",28),s["\u0275\u0275elementStart"](1,"div",29),s["\u0275\u0275elementStart"](2,"div"),s["\u0275\u0275elementStart"](3,"strong"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div"),s["\u0275\u0275elementStart"](10,"button",30),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().unselectPersonCustomer()}),s["\u0275\u0275text"](11,"Cancelar sele\xe7\xe3o"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate2"]("",r.salesPosService.personCustomer.name," (",r.salesPosService.personCustomer.id,")"),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",r.salesPosService.personCustomer.phones," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"](" ",r.salesPosService.personCustomer.addressDescription," ",r.salesPosService.personCustomer.addressComplement?"(compl: "+r.salesPosService.personCustomer.addressComplement+")":""," ")}}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",31),s["\u0275\u0275text"](1,"#"),s["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.id)}}function O(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",31),s["\u0275\u0275text"](1,"Nome"),s["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function _(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",31),s["\u0275\u0275text"](1,"Telefones"),s["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-chip"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275elementStart"](1,"mat-chip-list"),s["\u0275\u0275template"](2,j,2,1,"mat-chip",33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",n.phones)}}function R(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",31),s["\u0275\u0275text"](1,"Endere\xe7o"),s["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275elementStart"](1,"a",34),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().copyAddressLink(e)}),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"](" ",r.addressDescription," ",r.addressComplement?"(compl: "+r.addressComplement+")":""," ")}}function N(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",31),s["\u0275\u0275text"](1,"Op\xe7\xf5es"),s["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275elementStart"](1,"button",30),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().selectPersonCustomer(e)}),s["\u0275\u0275text"](2,"Selecionar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"button",30),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().openPersonForm(e.id)}),s["\u0275\u0275elementStart"](4,"mat-icon"),s["\u0275\u0275text"](5,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Q(e,t){1&e&&s["\u0275\u0275element"](0,"tr",35)}function $(e,t){if(1&e&&s["\u0275\u0275element"](0,"tr",36),2&e){var n=t.$implicit,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275styleProp"]("background-color",r.salesPosService.personCustomer&&r.salesPosService.personCustomer.id==n.id?"#efefef":null)}}function T(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",14),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().loadMore()}),s["\u0275\u0275text"](1,"Mais..."),s["\u0275\u0275elementEnd"]()}}var G,H,L,z,A,U,J,X,B=((A=function(){function e(t,r,a,o,l){n(this,e),this._personService=t,this._loader=r,this._toast=a,this._dialog=o,this.salesPosService=l,this.persons=[],this.personSearchFilter={limit:30,index:0},this.tableColumns=["id","name","phones","address","options"]}return t(e,[{key:"ngOnInit",value:function(){}},{key:"getPersons",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e._loader.show(),e._personService.search(e.personSearchFilter).subscribe(function(r){e._loader.dismiss(),t.reset&&(e.personSearchFilter.index=0,e.persons=[]),e.persons=e.persons.concat(r),n()},function(t){e._loader.dismiss(),e._toast.showError(t),r()})})}},{key:"loadMore",value:function(){this.personSearchFilter.index++,this.getPersons()}},{key:"clearFilter",value:function(){this.personSearchFilter.q=null,this.personSearchFilter.name=null,this.personSearchFilter.phone=null,this.personSearchFilter.address=null}},{key:"search",value:function(){this.personSearchFilter.q=this.generalSearchElement.nativeElement.value||null,this.personSearchFilter.name=this.nameSearchElement.nativeElement.value||null,this.personSearchFilter.phone=this.phoneSearchElement.nativeElement.value||null,this.personSearchFilter.address=this.addressSearchElement.nativeElement.value||null,this.personSearchFilter.index=0,this.getPersons({reset:!0})}},{key:"openPersonForm",value:function(e){var t=this;this._dialog.open(m.a,{width:"90%",height:"90%",data:{personId:e}}).afterClosed().subscribe(function(e){e&&e.hasUpdate&&t.getPersons({reset:!0})})}},{key:"selectPersonCustomer",value:function(e){this.salesPosService.personCustomer=e}},{key:"unselectPersonCustomer",value:function(){this.salesPosService.personCustomer=null}},{key:"copyAddressLink",value:function(e){var t="".concat(e.addressDescription).concat(e.addressComplement?" (compl:"+e.addressComplement+")":"").concat(e.addressReferencePoint?" - "+e.addressReferencePoint:""),n=function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{return document.execCommand("copy")}catch(n){console.error("Oops, unable to copy")}document.body.removeChild(t)}("https://www.google.com.br/maps?q=".concat(encodeURI(e.addressDescription),"\n").concat(t));this._toast.open(n?"Copiado para sua \xe1rea de transfer\xeancia!":"Erro ao copiar :(")}}]),e}()).\u0275fac=function(e){return new(e||A)(s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](p.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](f.b),s["\u0275\u0275directiveInject"](h))},A.\u0275cmp=s["\u0275\u0275defineComponent"]({type:A,selectors:[["app-pos-customer"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"](b,!0),s["\u0275\u0275viewQuery"](g,!0),s["\u0275\u0275viewQuery"](w,!0),s["\u0275\u0275viewQuery"](k,!0)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.generalSearchElement=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.nameSearchElement=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.phoneSearchElement=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.addressSearchElement=n.first))},decls:50,vars:7,consts:[[1,"row"],[1,"col-12"],["matInput","","placeholder","Geral","autocomplete","off",3,"keyup.enter"],["generalSearch",""],[1,"col-md-4"],["matInput","","placeholder","Nome","autocomplete","off",3,"keyup.enter"],["nameSearch",""],["matInput","","placeholder","Telefone","autocomplete","off",3,"keyup.enter"],["phoneSearch",""],["matInput","","placeholder","Endere\xe7o","autocomplete","off",3,"keyup.enter"],["addressSearch",""],["class","col-md-4","style","padding-top: 26px",4,"ngIf"],[1,"row",2,"margin-bottom","15px !important"],["mat-stroked-button","","color","primary",2,"margin-right","15px",3,"click"],["mat-flat-button","","color","primary",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","phones"],["matColumnDef","address"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"backgroundColor",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],[1,"col-md-4",2,"padding-top","26px"],[1,"selected-customer"],["mat-stroked-button","",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"mat-form-field"),s["\u0275\u0275elementStart"](5,"input",2,3),s["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"mat-form-field"),s["\u0275\u0275elementStart"](9,"input",5,6),s["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",4),s["\u0275\u0275elementStart"](12,"mat-form-field"),s["\u0275\u0275elementStart"](13,"input",7,8),s["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",4),s["\u0275\u0275elementStart"](16,"mat-form-field"),s["\u0275\u0275elementStart"](17,"input",9,10),s["\u0275\u0275listener"]("keyup.enter",function(){return t.search()}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,P,12,5,"div",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",12),s["\u0275\u0275elementStart"](21,"div",1),s["\u0275\u0275elementStart"](22,"button",13),s["\u0275\u0275listener"]("click",function(){return t.clearFilter()}),s["\u0275\u0275text"](23,"Limpar filtros"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"button",14),s["\u0275\u0275listener"]("click",function(){return t.search()}),s["\u0275\u0275text"](25,"Buscar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",0),s["\u0275\u0275elementStart"](27,"table",15),s["\u0275\u0275elementContainerStart"](28,16),s["\u0275\u0275template"](29,I,2,0,"th",17),s["\u0275\u0275template"](30,F,2,1,"td",18),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](31,19),s["\u0275\u0275template"](32,O,2,0,"th",17),s["\u0275\u0275template"](33,D,2,1,"td",18),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](34,20),s["\u0275\u0275template"](35,_,2,0,"th",17),s["\u0275\u0275template"](36,M,3,1,"td",18),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](37,21),s["\u0275\u0275template"](38,R,2,0,"th",17),s["\u0275\u0275template"](39,V,3,2,"td",18),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](40,22),s["\u0275\u0275template"](41,N,2,0,"th",17),s["\u0275\u0275template"](42,q,6,0,"td",18),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275template"](43,Q,1,0,"tr",23),s["\u0275\u0275template"](44,$,1,2,"tr",24),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](45,"div",25),s["\u0275\u0275template"](46,T,2,0,"button",26),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](47,"button",27),s["\u0275\u0275listener"]("click",function(){return t.openPersonForm()}),s["\u0275\u0275elementStart"](48,"mat-icon"),s["\u0275\u0275text"](49,"add"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275classMap"](t.salesPosService.personCustomer?"col-md-8":"col-md-12"),s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("ngIf",t.salesPosService.personCustomer),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("dataSource",t.persons),s["\u0275\u0275advance"](16),s["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.persons.length>=t.personSearchFilter.limit))},directives:[v.c,S.b,l.k,y.a,E.j,E.c,E.e,E.b,E.g,E.i,C.a,E.d,E.a,x.b,l.j,x.a,E.f,E.h],styles:["table[_ngcontent-%COMP%]{width:100%}.selected-customer[_ngcontent-%COMP%]{border:1px solid #ddd;padding:11px;font-size:13px;border-radius:4px}.selected-customer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:7px}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),A),K=((z=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||z)},z.\u0275cmp=s["\u0275\u0275defineComponent"]({type:z,selectors:[["app-pos-order"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"pos-order works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),z),Z=((L=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=s["\u0275\u0275defineComponent"]({type:L,selectors:[["app-pos-payment"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"pos-payment works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),L),W=((H=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=s["\u0275\u0275defineComponent"]({type:H,selectors:[["app-pos-summary"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"pos-summary works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),H),Y=((G=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||G)},G.\u0275cmp=s["\u0275\u0275defineComponent"]({type:G,selectors:[["app-sales-pos"]],decls:9,vars:0,consts:[["label","Cliente"],["label","Pedido"],["label","Pagamento"],["label","Finalizar"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-tab-group"),s["\u0275\u0275elementStart"](1,"mat-tab",0),s["\u0275\u0275element"](2,"app-pos-customer"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-tab",1),s["\u0275\u0275element"](4,"app-pos-order"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"mat-tab",2),s["\u0275\u0275element"](6,"app-pos-payment"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"mat-tab",3),s["\u0275\u0275element"](8,"app-pos-summary"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[c.b,c.a,B,K,Z,W],styles:[""]}),G),ee=[{path:"",component:(U=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}(),U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=s["\u0275\u0275defineComponent"]({type:U,selectors:[["app-sales"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[i.g],styles:[""]}),U),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"pos",component:Y}]}],te=((J=function e(){n(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:J}),J.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||J)},imports:[[i.f.forChild(ee)],i.f]}),J),ne=a("PCNd"),re=a("ssao"),ae=((X=function e(){n(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:X}),X.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||X)},providers:[h],imports:[[l.b,ne.a,re.a,te]]}),X)}}])}();