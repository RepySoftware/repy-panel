(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{a1ig:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductsModule",function(){return N});var r=n("ofXK"),o=n("tyNb"),a=n("fXoL"),i=n("Gdn9"),l=n("5dVO"),m=n("2g2N"),c=n("0IaG"),d=n("K6Ak"),s=n("kmnG"),u=n("qFsG"),p=n("+0xr"),f=n("bTqV"),h=n("NFeN");function C(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",20),a["\u0275\u0275text"](1,"#"),a["\u0275\u0275elementEnd"]())}function x(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.id)}}function g(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",20),a["\u0275\u0275text"](1,"C\xf3d."),a["\u0275\u0275elementEnd"]())}function S(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.code," ")}}function w(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",20),a["\u0275\u0275text"](1,"Nome"),a["\u0275\u0275elementEnd"]())}function E(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function b(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",20),a["\u0275\u0275text"](1,"UM"),a["\u0275\u0275elementEnd"]())}function v(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.measurementUnit," ")}}function y(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",20),a["\u0275\u0275text"](1,"Categoria"),a["\u0275\u0275elementEnd"]())}function I(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.category.name," ")}}function k(t,e){1&t&&a["\u0275\u0275element"](0,"th",20)}function _(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"td",21),a["\u0275\u0275elementStart"](1,"a",22),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const n=e.$implicit;return a["\u0275\u0275nextContext"]().openForm(n.id)}),a["\u0275\u0275elementStart"](2,"mat-icon"),a["\u0275\u0275text"](3,"edit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function D(t,e){1&t&&a["\u0275\u0275element"](0,"tr",23)}function j(t,e){1&t&&a["\u0275\u0275element"](0,"tr",24)}function F(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",25),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](t),a["\u0275\u0275nextContext"]().loadMore()}),a["\u0275\u0275text"](1,"Mais..."),a["\u0275\u0275elementEnd"]()}}const P=[{path:"",component:(()=>{class t{constructor(t,e,n,r,o){this._productService=t,this._loader=e,this._toast=n,this._dialog=r,this._title=o,this.products=[],this.productFilter={limit:20,index:0},this.tableColumns=["id","code","name","measurementUnit","category","options"]}ngOnInit(){this._title.set("Produtos"),this.getProducts()}getProducts(t={}){return new Promise((e,n)=>{this._loader.show(),this._productService.getAll(this.productFilter).subscribe(n=>{this._loader.dismiss(),t.reset&&(this.products=[]),this.products=this.products.concat(n),e()},t=>{this._loader.dismiss(),this._toast.showHttpError(t),n()})})}loadMore(){this.productFilter.index++,this.getProducts()}search(t){this.productFilter.q=t,this.productFilter.index=0,this.getProducts({reset:!0})}openForm(t){}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](l.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](c.b),a["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-products"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","name"],["matColumnDef","measurementUnit"],["matColumnDef","category"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"h1",0),a["\u0275\u0275text"](1,"Produtos"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275elementStart"](3,"div",2),a["\u0275\u0275elementStart"](4,"mat-form-field",3),a["\u0275\u0275elementStart"](5,"input",4,5),a["\u0275\u0275listener"]("keyup.enter",function(){a["\u0275\u0275restoreView"](t);const n=a["\u0275\u0275reference"](6);return e.search(n.value)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"table",6),a["\u0275\u0275elementContainerStart"](8,7),a["\u0275\u0275template"](9,C,2,0,"th",8),a["\u0275\u0275template"](10,x,2,1,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](11,10),a["\u0275\u0275template"](12,g,2,0,"th",8),a["\u0275\u0275template"](13,S,2,1,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](14,11),a["\u0275\u0275template"](15,w,2,0,"th",8),a["\u0275\u0275template"](16,E,2,1,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](17,12),a["\u0275\u0275template"](18,b,2,0,"th",8),a["\u0275\u0275template"](19,v,2,1,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](20,13),a["\u0275\u0275template"](21,y,2,0,"th",8),a["\u0275\u0275template"](22,I,2,1,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](23,14),a["\u0275\u0275template"](24,k,1,0,"th",8),a["\u0275\u0275template"](25,_,4,0,"td",9),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](26,D,1,0,"tr",15),a["\u0275\u0275template"](27,j,1,0,"tr",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"div",17),a["\u0275\u0275template"](29,F,2,0,"button",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"button",19),a["\u0275\u0275listener"]("click",function(){return e.openForm()}),a["\u0275\u0275elementStart"](31,"mat-icon"),a["\u0275\u0275text"](32,"add"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&t&&(a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("dataSource",e.products),a["\u0275\u0275advance"](19),a["\u0275\u0275property"]("matHeaderRowDef",e.tableColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.tableColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",e.products.length>=e.productFilter.limit))},directives:[s.c,u.b,p.j,p.c,p.e,p.b,p.g,p.i,r.m,f.a,h.a,p.d,p.a,p.f,p.h],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.g.forChild(P)],o.g]}),t})();var V=n("ssao");let N=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[V.a,r.c,M]]}),t})()}}]);