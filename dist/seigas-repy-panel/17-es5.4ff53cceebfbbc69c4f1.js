!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{a1ig:function(n,r,a){"use strict";a.r(r),a.d(r,"ProductsModule",function(){return H});var o=a("ofXK"),i=a("tyNb"),l=a("fXoL"),c=a("Gdn9"),m=a("5dVO"),d=a("2g2N"),u=a("0IaG"),s=a("K6Ak"),p=a("kmnG"),f=a("qFsG"),h=a("+0xr"),v=a("bTqV"),C=a("NFeN");function g(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"#"),l["\u0275\u0275elementEnd"]())}function x(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.id)}}function w(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"C\xf3d."),l["\u0275\u0275elementEnd"]())}function b(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.code," ")}}function S(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"Nome"),l["\u0275\u0275elementEnd"]())}function E(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function y(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"UM"),l["\u0275\u0275elementEnd"]())}function k(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.measurementUnit," ")}}function I(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"th",20),l["\u0275\u0275text"](1,"Categoria"),l["\u0275\u0275elementEnd"]())}function _(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",n.category.name," ")}}function j(t,e){1&t&&l["\u0275\u0275element"](0,"th",20)}function D(t,e){if(1&t){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"td",21),l["\u0275\u0275elementStart"](1,"a",22),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var t=e.$implicit;return l["\u0275\u0275nextContext"]().openForm(t.id)}),l["\u0275\u0275elementStart"](2,"mat-icon"),l["\u0275\u0275text"](3,"edit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function P(t,e){1&t&&l["\u0275\u0275element"](0,"tr",23)}function F(t,e){1&t&&l["\u0275\u0275element"](0,"tr",24)}function M(t,e){if(1&t){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",25),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().loadMore()}),l["\u0275\u0275text"](1,"Mais..."),l["\u0275\u0275elementEnd"]()}}var V,N,O,$=[{path:"",component:(V=function(){function n(e,r,a,o,i){t(this,n),this._productService=e,this._loader=r,this._toast=a,this._dialog=o,this._title=i,this.products=[],this.productFilter={limit:20,index:0},this.tableColumns=["id","code","name","measurementUnit","category","options"]}var r,a,o;return r=n,(a=[{key:"ngOnInit",value:function(){this._title.set("Produtos"),this.getProducts()}},{key:"getProducts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){t._loader.show(),t._productService.getAll(t.productFilter).subscribe(function(r){t._loader.dismiss(),e.reset&&(t.products=[]),t.products=t.products.concat(r),n()},function(e){t._loader.dismiss(),t._toast.showHttpError(e),r()})})}},{key:"loadMore",value:function(){this.productFilter.index++,this.getProducts()}},{key:"search",value:function(t){this.productFilter.q=t,this.productFilter.index=0,this.getProducts({reset:!0})}},{key:"openForm",value:function(t){}}])&&e(r.prototype,a),o&&e(r,o),n}(),V.\u0275fac=function(t){return new(t||V)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](u.b),l["\u0275\u0275directiveInject"](s.a))},V.\u0275cmp=l["\u0275\u0275defineComponent"]({type:V,selectors:[["app-products"]],decls:33,vars:4,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-sm-12"],[2,"width","100%"],["matInput","","autocomplete","off","placeholder","Fa\xe7a sua busca",3,"keyup.enter"],["searchInput",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","name"],["matColumnDef","measurementUnit"],["matColumnDef","category"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){if(1&t){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"h1",0),l["\u0275\u0275text"](1,"Produtos"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](2,"div",1),l["\u0275\u0275elementStart"](3,"div",2),l["\u0275\u0275elementStart"](4,"mat-form-field",3),l["\u0275\u0275elementStart"](5,"input",4,5),l["\u0275\u0275listener"]("keyup.enter",function(){l["\u0275\u0275restoreView"](n);var t=l["\u0275\u0275reference"](6);return e.search(t.value)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"table",6),l["\u0275\u0275elementContainerStart"](8,7),l["\u0275\u0275template"](9,g,2,0,"th",8),l["\u0275\u0275template"](10,x,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](11,10),l["\u0275\u0275template"](12,w,2,0,"th",8),l["\u0275\u0275template"](13,b,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](14,11),l["\u0275\u0275template"](15,S,2,0,"th",8),l["\u0275\u0275template"](16,E,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](17,12),l["\u0275\u0275template"](18,y,2,0,"th",8),l["\u0275\u0275template"](19,k,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](20,13),l["\u0275\u0275template"](21,I,2,0,"th",8),l["\u0275\u0275template"](22,_,2,1,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementContainerStart"](23,14),l["\u0275\u0275template"](24,j,1,0,"th",8),l["\u0275\u0275template"](25,D,4,0,"td",9),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275template"](26,P,1,0,"tr",15),l["\u0275\u0275template"](27,F,1,0,"tr",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"div",17),l["\u0275\u0275template"](29,M,2,0,"button",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"button",19),l["\u0275\u0275listener"]("click",function(){return e.openForm()}),l["\u0275\u0275elementStart"](31,"mat-icon"),l["\u0275\u0275text"](32,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&t&&(l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("dataSource",e.products),l["\u0275\u0275advance"](19),l["\u0275\u0275property"]("matHeaderRowDef",e.tableColumns),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("matRowDefColumns",e.tableColumns),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.products.length>=e.productFilter.limit))},directives:[p.c,f.b,h.j,h.c,h.e,h.b,h.g,h.i,o.m,v.a,C.a,h.d,h.a,h.f,h.h],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),V)}],R=((N=function e(){t(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||N)},imports:[[i.g.forChild($)],i.g]}),N),G=a("ssao"),H=((O=function e(){t(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:O}),O.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||O)},imports:[[G.a,o.c,R]]}),O)}}])}();