!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(self.webpackChunkseigas_repy_panel=self.webpackChunkseigas_repy_panel||[]).push([[328],{44836:function(e,t,n){!function(e,t,n){"use strict";var o=function(e){e&&Object.assign(this,e)},r=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new o),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){e.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var n=0,o=t;n<o.length;n++){var r=o[n];r&&r.addEventListener("touchend",function(e){e.stopImmediatePropagation()})}}},500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run(function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)})},t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={options:[{type:n.Input,args:["options"]}],onAddressChange:[{type:n.Output}]},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}(),a=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({}),t}();t.GooglePlaceModule=a,t.GooglePlaceDirective=r,Object.defineProperty(t,"__esModule",{value:!0})}(n(37716),t,n(37716))},62328:function(n,r,i){"use strict";var l,c;i.r(r),i.d(r,{StockModule:function(){return ot}});var s=i(38583),d=i(54655),m=i(3679),u=i(22238),p=i(37716),f=i(38555),h=i(84465),v=i(37499),g=i(78451),y=i(98295),S=i(49983),E=i(67441),I=i(51095),b=i(71419),w=i(72458);function k(e,t){1&e&&p["\u0275\u0275element"](0,"button-dialog-close")}function x(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"h3",12),p["\u0275\u0275text"](1,"Novo dep\xf3sito"),p["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h3",12),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("Edi\xe7\xe3o ",n.deposit.name,"")}}function _(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",13),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function O(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}var D=function(){var e=function(){function e(t,n,r,a,i,l){o(this,e),this._loader=t,this._toast=n,this._depositService=r,this._companyBranchService=a,this._dialogRef=i,this.inputData=l,this.companyBranches=[],this.initForm()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.getCompanyBranches(),this.inputData.depositId&&this.getDeposit().then(function(){return e.setFormValues()})}},{key:"initForm",value:function(){this.depositForm=new m.cw({name:new m.NI(null,m.kI.required),companyBranch:new m.NI(null,m.kI.required)})}},{key:"setFormValues",value:function(){this.depositForm.get("name").setValue(this.deposit.name),this.depositForm.get("companyBranch").setValue(this.deposit.companyBranch.id)}},{key:"getDeposit",value:function(){var e=this;return new Promise(function(t,n){e._loader.show(),e._depositService.getById(e.inputData.depositId).subscribe(function(n){e._loader.dismiss(),e.deposit=n,t(n)},function(t){e._loader.dismiss(),e._toast.showHttpError(t),n(t)})})}},{key:"getCompanyBranches",value:function(){var e=this;this._companyBranchService.getAll().subscribe(function(t){e.companyBranches=t},function(t){e._toast.showHttpError(t)})}},{key:"save",value:function(){var e=this;if(!this.depositForm.valid)throw this.depositForm.markAllAsTouched(),this._toast.open("Preencha todos os campos obrigat\xf3rios"),new Error("Invalid form");var t,n={name:this.depositForm.get("name").value,companyBranchId:this.depositForm.get("companyBranch").value};this.deposit?(n.id=this.deposit.id,t=this._depositService.update(n)):t=this._depositService.create(n),this._loader.show(),t.subscribe(function(t){e._loader.dismiss(),e._toast.open("Salvo com sucesso!","success"),e.deposit=t,e.initForm(),e.setFormValues(),e._dialogRef.close({hasUpdate:!0})},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}},{key:"isModal",get:function(){return!!this.inputData}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](v.s),p["\u0275\u0275directiveInject"](g._),p["\u0275\u0275directiveInject"](u.so),p["\u0275\u0275directiveInject"](u.WI))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-deposit-form"]],decls:25,vars:7,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12"],["class","title",4,"ngIf"],[3,"formGroup"],[1,"col-12"],["matInput","","placeholder","Nome","autocomplete","off","formControlName","name"],["name",""],["formControlName","companyBranch"],["type",""],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[1,"title"],[3,"value"]],template:function(e,t){if(1&e&&(p["\u0275\u0275template"](0,k,1,0,"button-dialog-close",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275template"](3,x,2,0,"h3",3),p["\u0275\u0275template"](4,C,2,1,"h3",3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",4),p["\u0275\u0275elementStart"](6,"div",1),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"mat-form-field"),p["\u0275\u0275element"](9,"input",6,7),p["\u0275\u0275template"](11,_,2,0,"mat-error",0),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",5),p["\u0275\u0275elementStart"](13,"mat-form-field"),p["\u0275\u0275elementStart"](14,"mat-label"),p["\u0275\u0275text"](15,"Unidade"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"mat-select",8,9),p["\u0275\u0275template"](18,P,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](19,O,2,0,"mat-error",0),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](20,"hr"),p["\u0275\u0275elementStart"](21,"div",1),p["\u0275\u0275elementStart"](22,"div",2),p["\u0275\u0275elementStart"](23,"button",11),p["\u0275\u0275listener"]("click",function(){return t.save()}),p["\u0275\u0275text"](24,"Salvar"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275reference"](10);p["\u0275\u0275property"]("ngIf",t.isModal),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!t.deposit),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.deposit),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("formGroup",t.depositForm),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngIf",!n.valid),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngForOf",t.companyBranches),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!t.depositForm.get("companyBranch").valid)}},directives:[s.O5,m._Y,m.JL,m.sg,y.KE,S.Nt,m.Fj,m.JJ,m.u,y.hX,E.gD,s.sg,I.lW,b.P,y.TO,w.ey],styles:[""]}),e}(),F=i(26026),B=i(32789),M=i(76627);function j(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",11),p["\u0275\u0275text"](1,"#"),p["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",12),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.id)}}function T(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",11),p["\u0275\u0275text"](1,"Nome"),p["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",12),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function q(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",11),p["\u0275\u0275text"](1,"Unidade"),p["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",12),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.companyBranch.name," ")}}function H(e,t){1&e&&p["\u0275\u0275element"](0,"th",11)}function V(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"td",12),p["\u0275\u0275elementStart"](1,"a",13),p["\u0275\u0275listener"]("click",function(){var e=p["\u0275\u0275restoreView"](n).$implicit;return p["\u0275\u0275nextContext"]().openForm(e.id)}),p["\u0275\u0275elementStart"](2,"mat-icon"),p["\u0275\u0275text"](3,"edit"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function R(e,t){1&e&&p["\u0275\u0275element"](0,"tr",14)}function $(e,t){1&e&&p["\u0275\u0275element"](0,"tr",15)}var G=function(){var e=function(){function e(t,n,r,a,i){o(this,e),this._loader=t,this._toast=n,this._depositService=r,this._dialog=a,this._title=i,this.deposits=[],this.tableColumns=["id","name","companyBranch","options"]}return a(e,[{key:"ngOnInit",value:function(){this._title.set("Dep\xf3sitos"),this.getDeposits()}},{key:"getDeposits",value:function(){var e=this;return new Promise(function(t,n){e._loader.show(),e._depositService.getAll().subscribe(function(n){e._loader.dismiss(),e.deposits=n,t()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),n()})})}},{key:"openForm",value:function(e){var t=this;this._dialog.open(D,{width:"90%",height:"90%",data:{depositId:e}}).afterClosed().subscribe(function(e){e&&e.hasUpdate&&t.getDeposits()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](v.s),p["\u0275\u0275directiveInject"](u.uw),p["\u0275\u0275directiveInject"](F.y))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-deposits"]],decls:20,vars:3,consts:[[2,"font-size","32px","margin","16px"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","companyBranch"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"h1",0),p["\u0275\u0275text"](1,"Dep\xf3sitos"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](2,"table",1),p["\u0275\u0275elementContainerStart"](3,2),p["\u0275\u0275template"](4,j,2,0,"th",3),p["\u0275\u0275template"](5,A,2,1,"td",4),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](6,5),p["\u0275\u0275template"](7,T,2,0,"th",3),p["\u0275\u0275template"](8,N,2,1,"td",4),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](9,6),p["\u0275\u0275template"](10,q,2,0,"th",3),p["\u0275\u0275template"](11,L,2,1,"td",4),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](12,7),p["\u0275\u0275template"](13,H,1,0,"th",3),p["\u0275\u0275template"](14,V,4,0,"td",4),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275template"](15,R,1,0,"tr",8),p["\u0275\u0275template"](16,$,1,0,"tr",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"button",10),p["\u0275\u0275listener"]("click",function(){return t.openForm()}),p["\u0275\u0275elementStart"](18,"mat-icon"),p["\u0275\u0275text"](19,"add"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("dataSource",t.deposits),p["\u0275\u0275advance"](13),p["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("matRowDefColumns",t.tableColumns))},directives:[B.BZ,B.w1,B.fO,B.Dz,B.as,B.nj,I.lW,M.Hw,B.ge,B.ev,B.XQ,B.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),e}(),U=i(88002),Y=i(16738),z=i(83188),J=i(66082),W=i(54822),Q=i(7539);function X(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Z(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ee(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function ne(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}var oe=function(){return{standalone:!0}};function re(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"mat-checkbox",24),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n).$implicit.selected=e}),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;p["\u0275\u0275property"]("ngModel",o.selected)("ngModelOptions",p["\u0275\u0275pureFunction0"](4,oe)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",o.product.product.name," (",o.product.product.code,") ")}}function ae(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",1),p["\u0275\u0275elementStart"](1,"h4"),p["\u0275\u0275text"](2,"Incluir tamb\xe9m:"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div"),p["\u0275\u0275template"](4,re,2,5,"mat-checkbox",23),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngForOf",n.relatedProducts)}}var ie=function(){var e=function(){function e(t,n,r,a,i,l,c){var s=this;o(this,e),this._toast=t,this._loader=n,this._stockService=r,this._productService=a,this._depositService=i,this._dialogRef=l,this.inputData=c,this.productSearchAutocompleteOptions={placeholder:"Produto",onGetItems:function(e){return s.productSearchAutocompleteOnGetItems(e)},onSelectItem:function(e){return s.productSearchAutocompleteOnSelectItem(e)},emitOnClear:!0},this.deposits=[],this.relatedProducts=[],this.initForm()}return a(e,[{key:"ngOnInit",value:function(){this.getDeposits()}},{key:"initForm",value:function(){this.depositTransferForm=new m.cw({originDeposit:new m.NI(null,m.kI.required),destinationDeposit:new m.NI(null,m.kI.required),companyBranchProduct:new m.NI(null,m.kI.required),quantity:new m.NI(null,[m.kI.required,m.kI.min(1)]),dateOfIssue:new m.NI(Y().format("YYYY-MM-DDTHH:mm"),m.kI.required),observation:new m.NI(null)})}},{key:"getDeposits",value:function(){var e=this;this._loader.show(),this._depositService.getAll({companyBranchId:this.inputData.companyBranchId}).subscribe(function(t){e._loader.dismiss(),e.deposits=t},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}},{key:"productSearchAutocompleteOnGetItems",value:function(e){return this._productService.getAllForSales({index:0,limit:8,q:e},this.inputData.companyBranchId).pipe((0,U.U)(function(e){return e.map(function(e){return{label:"".concat(e.product.code," - ").concat(e.product.name),value:e}})}))}},{key:"productSearchAutocompleteOnSelectItem",value:function(e){var t;this.selectedProduct=e.value,this.depositTransferForm.get("companyBranchProduct").setValue((null===(t=e.value)||void 0===t?void 0:t.id)||null),this.selectedProduct?this.getRelatedProducts():this.relatedProducts=[]}},{key:"getRelatedProducts",value:function(){var e=this;this._productService.getRelated(this.selectedProduct.id).subscribe(function(t){e.relatedProducts=t.map(function(e){return{product:e.referencedCompanyBranchProduct,selected:e.isDefault}})},function(t){e._toast.showHttpError(t)})}},{key:"transfer",value:function(){var e=this;if(!this.depositTransferForm.valid)throw this.depositTransferForm.markAllAsTouched(),this._toast.open("Preencha todos os campos obrigat\xf3rios"),new Error("Invalid form");var n=this.depositTransferForm.get("originDeposit").value,o=this.depositTransferForm.get("destinationDeposit").value,r=this.depositTransferForm.get("companyBranchProduct").value,a=this.depositTransferForm.get("quantity").value,i=Y(this.depositTransferForm.get("dateOfIssue").value).toISOString(),l=this.depositTransferForm.get("observation").value,c=[{originDepositId:n,destinationDepositId:o,companyBranchProductId:r,quantity:a,dateOfIssue:i,observation:l}].concat(t(this.relatedProducts.filter(function(e){return e.selected}).map(function(e){return{originDepositId:n,destinationDepositId:o,companyBranchProductId:e.product.id,quantity:a,dateOfIssue:i,observation:"[Rel.] ".concat(l||"")}})));this._loader.show(),this._stockService.depositTransfer(c).subscribe(function(t){e._loader.dismiss(),e._toast.open("Transfer\xeancia conclu\xedda","success"),e._dialogRef.close()},function(t){e._loader.dismiss(),e._toast.showHttpError(t),e._dialogRef.close({hasUpdate:!0})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](z.q),p["\u0275\u0275directiveInject"](J.M),p["\u0275\u0275directiveInject"](v.s),p["\u0275\u0275directiveInject"](u.so),p["\u0275\u0275directiveInject"](u.WI))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-deposit-transfer"]],decls:46,vars:9,consts:[[1,"row"],[1,"col-sm-12"],[1,"title"],[3,"formGroup"],[1,"col-md-6"],["formControlName","originDeposit"],["type",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","destinationDeposit"],[1,"col-12"],[3,"options"],["productAutocomplete",""],["matInput","","placeholder","Quantidade","type","number","autocomplete","off","formControlName","quantity"],["quantity",""],["matInput","","type","datetime-local","placeholder","Data","autocomplete","off","formControlName","dateOfIssue"],["dateOfIssue",""],[1,"col-md-12"],["matInput","","placeholder","Observa\xe7\xe3o","autocomplete","off","formControlName","observation"],["observation",""],["class","col-sm-12",4,"ngIf"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[3,"value"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(p["\u0275\u0275element"](0,"button-dialog-close"),p["\u0275\u0275elementStart"](1,"div",0),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275elementStart"](3,"h3",2),p["\u0275\u0275text"](4,"Transfer\xeancia de estoque"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",3),p["\u0275\u0275elementStart"](6,"div",0),p["\u0275\u0275elementStart"](7,"div",4),p["\u0275\u0275elementStart"](8,"mat-form-field"),p["\u0275\u0275elementStart"](9,"mat-label"),p["\u0275\u0275text"](10,"Dep\xf3sito origem"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"mat-select",5,6),p["\u0275\u0275template"](13,X,2,2,"mat-option",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](14,Z,2,0,"mat-error",8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",4),p["\u0275\u0275elementStart"](16,"mat-form-field"),p["\u0275\u0275elementStart"](17,"mat-label"),p["\u0275\u0275text"](18,"Dep\xf3sito destino"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"mat-select",9,6),p["\u0275\u0275template"](21,K,2,2,"mat-option",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](22,ee,2,0,"mat-error",8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",10),p["\u0275\u0275element"](24,"app-autocomplete",11,12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](26,"div",4),p["\u0275\u0275elementStart"](27,"mat-form-field"),p["\u0275\u0275element"](28,"input",13,14),p["\u0275\u0275template"](30,te,2,0,"mat-error",8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",4),p["\u0275\u0275elementStart"](32,"mat-form-field"),p["\u0275\u0275element"](33,"input",15,16),p["\u0275\u0275template"](35,ne,2,0,"mat-error",8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"div",17),p["\u0275\u0275elementStart"](37,"mat-form-field"),p["\u0275\u0275element"](38,"input",18,19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](40,"hr"),p["\u0275\u0275elementStart"](41,"div",0),p["\u0275\u0275template"](42,ae,5,1,"div",20),p["\u0275\u0275elementStart"](43,"div",1),p["\u0275\u0275elementStart"](44,"button",21),p["\u0275\u0275listener"]("click",function(){return t.transfer()}),p["\u0275\u0275text"](45,"Transferir"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275reference"](29),o=p["\u0275\u0275reference"](34);p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("formGroup",t.depositTransferForm),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngForOf",t.deposits),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!t.depositTransferForm.get("originDeposit").valid),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngForOf",t.deposits),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!t.depositTransferForm.get("destinationDeposit").valid),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("options",t.productSearchAutocompleteOptions),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngIf",!n.valid),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!o.valid),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",null==t.relatedProducts?null:t.relatedProducts.length)}},directives:[b.P,m._Y,m.JL,m.sg,y.KE,y.hX,E.gD,m.JJ,m.u,s.sg,s.O5,W.Y,S.Nt,m.wV,m.Fj,I.lW,w.ey,y.TO,Q.oG,m.On],styles:[""]}),e}(),le=(function(e){e.IN="IN",e.OUT="OUT",e.BALANCE="BALANCE"}(le||(le={})),le),ce=(e(l={},le.IN,"Entrada"),e(l,le.OUT,"Sa\xedda"),e(l,le.BALANCE,"Balan\xe7o"),l),se=(e(c={},le.IN,"var(--color-nephritis)"),e(c,le.OUT,"var(--color-peterriver)"),e(c,le.BALANCE,"var(--color-wisteria)"),c),de=function(){var e=function(){function e(){o(this,e)}return a(e,[{key:"transform",value:function(e){return function(e){return ce[e]}(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=p["\u0275\u0275definePipe"]({name:"stockPostType",type:e,pure:!0}),e}();function me(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",21),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"stockPostType"),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,2,n)," ")}}function ue(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function pe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}function fe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),p["\u0275\u0275elementEnd"]())}var he=function(){return{standalone:!0}};function ve(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"mat-checkbox",23),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n).$implicit.selected=e}),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;p["\u0275\u0275property"]("ngModel",o.selected)("ngModelOptions",p["\u0275\u0275pureFunction0"](4,he)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",o.product.product.name," (",o.product.product.code,") ")}}function ge(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",1),p["\u0275\u0275elementStart"](1,"h4"),p["\u0275\u0275text"](2,"Incluir tamb\xe9m:"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div"),p["\u0275\u0275template"](4,ve,2,5,"mat-checkbox",22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngForOf",n.relatedProducts)}}var ye=function(){var e=function(){function e(t,n,r,a,i,l){var c=this;o(this,e),this._loader=t,this._toast=n,this._dialogRef=r,this._stockService=a,this._productService=i,this.inputData=l,this.productSearchAutocompleteOptions={placeholder:"Produto",onGetItems:function(e){return c.productSearchAutocompleteOnGetItems(e)},onSelectItem:function(e){return c.productSearchAutocompleteOnSelectItem(e)},emitOnClear:!0},this.relatedProducts=[],this.stockPostTypes=Object.values(le),this.initForm()}return a(e,[{key:"ngOnInit",value:function(){}},{key:"initForm",value:function(){this.stockForm=new m.cw({companyBranchProduct:new m.NI(null,m.kI.required),type:new m.NI(le.BALANCE,m.kI.required),quantity:new m.NI(null,[m.kI.required,m.kI.min(0)]),observation:new m.NI(null),dateOfIssue:new m.NI(Y().format("YYYY-MM-DDTHH:mm"),m.kI.required)})}},{key:"productSearchAutocompleteOnGetItems",value:function(e){return this._productService.getAllForSales({index:0,limit:8,q:e},this.inputData.companyBranchId).pipe((0,U.U)(function(e){return e.map(function(e){return{label:"".concat(e.product.code," - ").concat(e.product.name),value:e}})}))}},{key:"productSearchAutocompleteOnSelectItem",value:function(e){var t;this.selectedProduct=e.value,this.stockForm.get("companyBranchProduct").setValue((null===(t=e.value)||void 0===t?void 0:t.id)||null),this.selectedProduct?this.getRelatedProducts():this.relatedProducts=[]}},{key:"getRelatedProducts",value:function(){var e=this;this._productService.getRelated(this.selectedProduct.id).subscribe(function(t){e.relatedProducts=t.map(function(e){return{product:e.referencedCompanyBranchProduct,selected:e.isDefault}})},function(t){e._toast.showHttpError(t)})}},{key:"save",value:function(){var e=this;if(!this.stockForm.valid)throw this.stockForm.markAllAsTouched(),this._toast.open("Preencha todos os campos obrigat\xf3rios"),new Error("Invalid form");var n=this.stockForm.get("type").value,o=this.stockForm.get("quantity").value,r=this.inputData.depositId,a=Y(this.stockForm.get("dateOfIssue").value).toISOString(),i=this.stockForm.get("observation").value,l=[{companyBranchProductId:this.selectedProduct.id,depositId:r,type:n,quantity:o,dateOfIssue:a,observation:i}].concat(t(this.relatedProducts.filter(function(e){return e.selected}).map(function(e){return{companyBranchProductId:e.product.id,depositId:r,type:n,quantity:o,dateOfIssue:a,observation:"[Rel.] ".concat(i||"")}})));this._loader.show(),this._stockService.createPosts(l).subscribe(function(t){e._loader.dismiss(),e._toast.open("Lan\xe7amento salvo!","success"),e._dialogRef.close({hasUpdate:!0})},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](u.so),p["\u0275\u0275directiveInject"](z.q),p["\u0275\u0275directiveInject"](J.M),p["\u0275\u0275directiveInject"](u.WI))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stock-post-form"]],decls:38,vars:7,consts:[[1,"row"],[1,"col-sm-12"],[1,"title"],[3,"formGroup"],[1,"col-12"],[3,"options"],["productAutocomplete",""],[1,"col-md-4"],["formControlName","type"],["type",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","placeholder","Quantidade","type","number","autocomplete","off","formControlName","quantity"],["quantity",""],["matInput","","type","datetime-local","placeholder","Data","autocomplete","off","formControlName","dateOfIssue"],["dateOfIssue",""],[1,"col-md-12"],["matInput","","placeholder","Observa\xe7\xe3o","autocomplete","off","formControlName","observation"],["observation",""],["class","col-sm-12",4,"ngIf"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[3,"value"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(p["\u0275\u0275element"](0,"button-dialog-close"),p["\u0275\u0275elementStart"](1,"div",0),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275elementStart"](3,"h3",2),p["\u0275\u0275text"](4,"Novo lan\xe7amento"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",3),p["\u0275\u0275elementStart"](6,"div",0),p["\u0275\u0275elementStart"](7,"div",4),p["\u0275\u0275element"](8,"app-autocomplete",5,6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"div",7),p["\u0275\u0275elementStart"](11,"mat-form-field"),p["\u0275\u0275elementStart"](12,"mat-label"),p["\u0275\u0275text"](13,"Tipo"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"mat-select",8,9),p["\u0275\u0275template"](16,me,3,4,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](17,ue,2,0,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",7),p["\u0275\u0275elementStart"](19,"mat-form-field"),p["\u0275\u0275element"](20,"input",12,13),p["\u0275\u0275template"](22,pe,2,0,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",7),p["\u0275\u0275elementStart"](24,"mat-form-field"),p["\u0275\u0275element"](25,"input",14,15),p["\u0275\u0275template"](27,fe,2,0,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",16),p["\u0275\u0275elementStart"](29,"mat-form-field"),p["\u0275\u0275element"](30,"input",17,18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](32,"hr"),p["\u0275\u0275elementStart"](33,"div",0),p["\u0275\u0275template"](34,ge,5,1,"div",19),p["\u0275\u0275elementStart"](35,"div",1),p["\u0275\u0275elementStart"](36,"button",20),p["\u0275\u0275listener"]("click",function(){return t.save()}),p["\u0275\u0275text"](37,"Salvar"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275reference"](21),o=p["\u0275\u0275reference"](26);p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("formGroup",t.stockForm),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("options",t.productSearchAutocompleteOptions),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngForOf",t.stockPostTypes),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!t.stockForm.get("type").valid),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!n.valid),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!o.valid),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",null==t.relatedProducts?null:t.relatedProducts.length)}},directives:[b.P,m._Y,m.JL,m.sg,W.Y,y.KE,y.hX,E.gD,m.JJ,m.u,s.sg,s.O5,S.Nt,m.wV,m.Fj,I.lW,w.ey,y.TO,Q.oG,m.On],pipes:[de],styles:[""]}),e}(),Se=i(75355),Ee=i(11436),Ie=function(){var e=function(){function e(){o(this,e)}return a(e,[{key:"transform",value:function(e){return function(e){return se[e]}(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=p["\u0275\u0275definePipe"]({name:"stockPostTypeColor",type:e,pure:!0}),e}(),be=i(26835);function we(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",27),p["\u0275\u0275text"](1,"Produto"),p["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",28),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",null==n.depositProduct?null:n.depositProduct.companyBranchProduct.product.name," (",null==n.depositProduct?null:n.depositProduct.companyBranchProduct.product.code,") ")}}function xe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",27),p["\u0275\u0275text"](1,"Tipo"),p["\u0275\u0275elementEnd"]())}function Ce(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",29),p["\u0275\u0275pipe"](1,"stockPostTypeColor"),p["\u0275\u0275text"](2),p["\u0275\u0275pipe"](3,"stockPostType"),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275styleProp"]("color",p["\u0275\u0275pipeBind1"](1,3,n.type)),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](3,5,n.type)," ")}}function _e(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",27),p["\u0275\u0275text"](1,"Quantidade"),p["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",29),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.quantity," ")}}function Oe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",27),p["\u0275\u0275text"](1,"Observa\xe7\xe3o"),p["\u0275\u0275elementEnd"]())}function De(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",30),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("matTooltip",n.observation),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.observation," ")}}function Fe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",27),p["\u0275\u0275text"](1,"Data"),p["\u0275\u0275elementEnd"]())}function Be(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",28),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"momentDate"),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind2"](2,1,n.dateOfIssue,"DD/MM/YYYY HH:mm")," ")}}function Me(e,t){1&e&&p["\u0275\u0275element"](0,"th",27)}function je(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"td",28),p["\u0275\u0275elementStart"](1,"a",31),p["\u0275\u0275listener"]("click",function(){var e=p["\u0275\u0275restoreView"](n).$implicit;return p["\u0275\u0275nextContext"]().deletePost(e)}),p["\u0275\u0275elementStart"](2,"mat-icon"),p["\u0275\u0275text"](3,"delete"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function Ae(e,t){1&e&&p["\u0275\u0275element"](0,"tr",32)}function Te(e,t){1&e&&p["\u0275\u0275element"](0,"tr",33)}function Ne(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"button",34),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().loadMore()}),p["\u0275\u0275text"](1,"Mais..."),p["\u0275\u0275elementEnd"]()}}function qe(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate2"](" ",n.companyBranchProduct.product.name," (",n.companyBranchProduct.product.code,") "),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.quantity)}}function Le(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"table",35),p["\u0275\u0275elementStart"](1,"thead"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275elementStart"](3,"th"),p["\u0275\u0275text"](4,"Produto"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"th"),p["\u0275\u0275text"](6,"Quantidade"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"tbody"),p["\u0275\u0275template"](8,qe,5,3,"tr",36),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngForOf",n.depositProducts)}}var He=function(){var e=function(){function e(t,n,r,a,i,l,c){var s=this;o(this,e),this._toast=t,this._loader=n,this._stockService=r,this._dialog=a,this._alert=i,this._productService=l,this.inputData=c,this.stockPosts=[],this.tableColumns=["product","type","quantity","observation","createdAt","options"],this.productSearchAutocompleteOptions={placeholder:"Produto",onGetItems:function(e){return s.productSearchAutocompleteOnGetItems(e)},onSelectItem:function(e){return s.productSearchAutocompleteOnSelectItem(e)},emitOnClear:!0},this.filter={index:0,limit:40,depositId:c.depositId}}return a(e,[{key:"ngOnInit",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;this._loader.show(),Promise.all([this.getDeposit(),this.getPosts()]).then(function(){return e._loader.dismiss()}).catch(function(){return e._loader.dismiss()})}},{key:"getDeposit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){(null==t?void 0:t.showLoader)&&e._loader.show(),e._stockService.getDepositById(e.inputData.depositId).subscribe(function(o){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e.deposit=o,n()},function(n){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e._toast.showHttpError(n),o()})})}},{key:"getPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){(null==t?void 0:t.showLoader)&&e._loader.show(),e._stockService.getPosts(e.filter).subscribe(function(o){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e.stockPosts=(null==t?void 0:t.concat)?e.stockPosts.concat(o):o,n()},function(n){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e._toast.showHttpError(n),o()})})}},{key:"openPostForm",value:function(){var e=this;this._dialog.open(ye,{width:"50%",height:"80%",data:{companyBranchId:this.inputData.companyBranchId,depositId:this.deposit.id}}).afterClosed().subscribe(function(t){t&&t.hasUpdate&&e.refresh()})}},{key:"productSearchAutocompleteOnGetItems",value:function(e){return this._productService.getAllForSales({index:0,limit:8,q:e},this.inputData.companyBranchId).pipe((0,U.U)(function(e){return e.map(function(e){return{label:"".concat(e.product.code," - ").concat(e.product.name),value:e}})}))}},{key:"productSearchAutocompleteOnSelectItem",value:function(e){var t;this.selectedProduct=e.value,this.filter.companyBranchProductId=null===(t=this.selectedProduct)||void 0===t?void 0:t.id,this.filterProduct()}},{key:"loadMore",value:function(){this.filter.index++,this.getPosts({concat:!0})}},{key:"filterProduct",value:function(){this.filter.index=0,this.getPosts({showLoader:!0})}},{key:"deletePost",value:function(e){var t=this;this._alert.open({message:"Excluir lan\xe7amento #".concat(e.id,"? \ud83d\ude15"),title:"#".concat(e.id),buttons:[{text:"Cancelar",closeOnClick:!0},{text:"Excluir",color:"warn",onClick:function(){t._loader.show(),t._stockService.deletePost(e.id).subscribe(function(e){t._loader.dismiss(),t._toast.open("Exclu\xeddo com sucesso","success"),t.refresh()},function(e){t._loader.dismiss(),t._toast.showHttpError(e)})}}]})}},{key:"clearDeposit",value:function(){var e=this;this._alert.open({message:"Voc\xea tem certeza que deseja limpar este dep\xf3sito?",title:"Limpar dep\xf3sito",buttons:[{text:"Cancelar",closeOnClick:!0},{text:"Limpar",color:"warn",onClick:function(){e._loader.show(),e._stockService.clearDeposit(e.deposit.id).subscribe(function(t){e._loader.dismiss(),e._toast.open("Dep\xf3sito limpo","success"),e.refresh()},function(t){e._loader.dismiss(),e._toast.showHttpError(t)})}}]})}},{key:"depositProducts",get:function(){return this.deposit.products.filter(function(e){return 0!=e.quantity})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](z.q),p["\u0275\u0275directiveInject"](u.uw),p["\u0275\u0275directiveInject"](Se.O),p["\u0275\u0275directiveInject"](J.M),p["\u0275\u0275directiveInject"](u.WI))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stock-posts"]],decls:41,vars:7,consts:[[2,"font-size","24px","margin","16px"],[1,"row"],[1,"col-md-8"],[2,"display","flex","gap","48px","align-items","center"],[2,"font-size","18px"],["mat-flat-button","","color","primary",2,"width","40%",3,"click"],[2,"width","100%",3,"options"],["productAutocomplete",""],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["mat-cell","","style","font-weight: bold;",3,"color",4,"matCellDef"],["matColumnDef","quantity"],["mat-cell","","style","font-weight: bold;",4,"matCellDef"],["matColumnDef","observation"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","padding","10px"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[1,"col-md-4"],["class","stock-table",4,"ngIf"],["mat-stroked-button","","color","warn",2,"margin-top","8px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"font-weight","bold"],["mat-cell","",3,"matTooltip"],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"click"],[1,"stock-table"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(p["\u0275\u0275element"](0,"button-dialog-close"),p["\u0275\u0275elementStart"](1,"h1",0),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div",1),p["\u0275\u0275elementStart"](4,"div",2),p["\u0275\u0275elementStart"](5,"div",3),p["\u0275\u0275elementStart"](6,"h2",4),p["\u0275\u0275text"](7,"Lan\xe7amentos"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"button",5),p["\u0275\u0275listener"]("click",function(){return t.openPostForm()}),p["\u0275\u0275text"](9,"Novo lan\xe7amento"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](10,"app-autocomplete",6,7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"table",8),p["\u0275\u0275elementContainerStart"](13,9),p["\u0275\u0275template"](14,we,2,0,"th",10),p["\u0275\u0275template"](15,ke,2,2,"td",11),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](16,12),p["\u0275\u0275template"](17,xe,2,0,"th",10),p["\u0275\u0275template"](18,Ce,4,7,"td",13),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](19,14),p["\u0275\u0275template"](20,_e,2,0,"th",10),p["\u0275\u0275template"](21,Pe,2,1,"td",15),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](22,16),p["\u0275\u0275template"](23,Oe,2,0,"th",10),p["\u0275\u0275template"](24,De,2,2,"td",17),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](25,18),p["\u0275\u0275template"](26,Fe,2,0,"th",10),p["\u0275\u0275template"](27,Be,3,4,"td",11),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](28,19),p["\u0275\u0275template"](29,Me,1,0,"th",10),p["\u0275\u0275template"](30,je,4,0,"td",11),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275template"](31,Ae,1,0,"tr",20),p["\u0275\u0275template"](32,Te,1,0,"tr",21),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",22),p["\u0275\u0275template"](34,Ne,2,0,"button",23),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"div",24),p["\u0275\u0275elementStart"](36,"h2",4),p["\u0275\u0275text"](37,"Total"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](38,Le,9,1,"table",25),p["\u0275\u0275elementStart"](39,"button",26),p["\u0275\u0275listener"]("click",function(){return t.clearDeposit()}),p["\u0275\u0275text"](40,"Limpar dep\xf3sito"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](null==t.deposit?null:t.deposit.name),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("options",t.productSearchAutocompleteOptions),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("dataSource",t.stockPosts),p["\u0275\u0275advance"](19),p["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("matRowDefColumns",t.tableColumns),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.stockPosts.length>=t.filter.limit),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngIf",null==t.deposit?null:t.deposit.products.length))},directives:[b.P,I.lW,W.Y,B.BZ,B.w1,B.fO,B.Dz,B.as,B.nj,s.O5,B.ge,B.ev,Ee.gM,M.Hw,B.XQ,B.Gk,s.sg],pipes:[Ie,de,be.v],styles:[".stock-table[_ngcontent-%COMP%]{width:100%}.stock-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.stock-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .stock-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{max-width:calc(100vw / 10);white-space:nowrap;word-wrap:break-word;overflow:hidden;text-overflow:ellipsis}.stock-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 7px}"]}),e}(),Ve=i(93738);function Re(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",13),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",n.tradeName," - ",n.name," ")}}function $e(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"button",14),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().openDepositTransfer()}),p["\u0275\u0275text"](1," Transfer\xeancia de estoque "),p["\u0275\u0275elementStart"](2,"mat-icon"),p["\u0275\u0275text"](3,"swap_horiz"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function Ge(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate2"](" ",n.companyBranchProduct.product.name," (",n.companyBranchProduct.product.code,") "),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.quantity)}}function Ue(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"table",18),p["\u0275\u0275elementStart"](1,"thead"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275elementStart"](3,"th"),p["\u0275\u0275text"](4,"Produto"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"th"),p["\u0275\u0275text"](6,"Quantidade"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"tbody"),p["\u0275\u0275template"](8,Ge,5,3,"tr",19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngForOf",n.products)}}function Ye(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",15),p["\u0275\u0275elementStart"](1,"mat-card"),p["\u0275\u0275elementStart"](2,"mat-card-header"),p["\u0275\u0275elementStart"](3,"mat-card-title",16),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"mat-card-content"),p["\u0275\u0275template"](6,Ue,9,1,"table",17),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"mat-card-actions"),p["\u0275\u0275elementStart"](8,"button",14),p["\u0275\u0275listener"]("click",function(){var e=p["\u0275\u0275restoreView"](n).$implicit;return p["\u0275\u0275nextContext"]().openStockPosts(e.id)}),p["\u0275\u0275text"](9,"Lan\xe7amentos"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](o.name),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",o.products.length)}}function ze(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate2"](" ",n.product.product.name," (",n.product.product.code,") "),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.quantity)}}function Je(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",20),p["\u0275\u0275elementStart"](1,"h5"),p["\u0275\u0275text"](2,"Total"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"table",18),p["\u0275\u0275elementStart"](4,"thead"),p["\u0275\u0275elementStart"](5,"tr"),p["\u0275\u0275elementStart"](6,"th"),p["\u0275\u0275text"](7,"Produto"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"th"),p["\u0275\u0275text"](9,"Quantidade"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"tbody"),p["\u0275\u0275template"](11,ze,5,3,"tr",19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](11),p["\u0275\u0275property"]("ngForOf",n.productsTotals)}}var We,Qe,Xe=function(){var e=function(){function e(t,n,r,a,i,l){o(this,e),this._title=t,this._toast=n,this._loader=r,this._stockService=a,this._companyBranchService=i,this._dialog=l,this.companyBranches=[],this.deposits=[],this.productsTotals=[]}return a(e,[{key:"ngOnInit",value:function(){this._title.set("Controle de estoque"),this.getCompanyBranches()}},{key:"getStockDeposits",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(null==t?void 0:t.showLoader)&&this._loader.show(),this._stockService.getDeposits(Number(this.companyBranchIdValue)).subscribe(function(n){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e.deposits=n,e.calculeProductsTotals()},function(n){(null==t?void 0:t.showLoader)&&e._loader.dismiss(),e._toast.showHttpError(n)})}},{key:"getCompanyBranches",value:function(){var e=this;this._companyBranchService.getAll().subscribe(function(t){e.companyBranches=t},function(t){e._toast.showHttpError(t)})}},{key:"openStockPosts",value:function(e){var t=this,n={depositId:e,companyBranchId:Number(this.companyBranchIdValue)};this._dialog.open(He,{maxWidth:"90%",width:"90%",height:"90%",data:n}).afterClosed().subscribe(function(e){t.getStockDeposits()})}},{key:"openDepositTransfer",value:function(){var e=this,t={companyBranchId:Number(this.companyBranchIdValue)};this._dialog.open(ie,{width:"50%",height:"80%",data:t}).afterClosed().subscribe(function(t){e.getStockDeposits()})}},{key:"calculeProductsTotals",value:function(){var e=this;this.productsTotals=[],this.deposits.forEach(function(t){t.products.forEach(function(t){var n=e.productsTotals.find(function(e){return e.product.id==t.companyBranchProduct.id});!n&&t.quantity>0?e.productsTotals.push({product:t.companyBranchProduct,quantity:t.quantity}):t.quantity>0&&(n.quantity+=t.quantity)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](F.y),p["\u0275\u0275directiveInject"](h.k),p["\u0275\u0275directiveInject"](f.D),p["\u0275\u0275directiveInject"](z.q),p["\u0275\u0275directiveInject"](g._),p["\u0275\u0275directiveInject"](u.uw))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stock-control"]],decls:19,vars:6,consts:[[2,"font-size","32px","margin","16px"],[1,"row"],[1,"col-md-12"],[2,"display","flex","gap","48px","align-items","center"],[2,"width","50%"],[3,"ngModel","ngModelChange","selectionChange"],["companyBranch",""],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"col-md-9"],["class","col-md-4","style","margin-bottom: 24px;",4,"ngFor","ngForOf"],["class","col-3",4,"ngIf"],[3,"value"],["mat-stroked-button","","color","primary",3,"click"],[1,"col-md-4",2,"margin-bottom","24px"],[2,"font-weight","bold"],["class","stock-table",4,"ngIf"],[1,"stock-table"],[4,"ngFor","ngForOf"],[1,"col-3"]],template:function(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h1",0),p["\u0275\u0275text"](1,"Controle de estoque"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275elementStart"](3,"div",2),p["\u0275\u0275elementStart"](4,"div",3),p["\u0275\u0275elementStart"](5,"mat-form-field",4),p["\u0275\u0275elementStart"](6,"mat-label"),p["\u0275\u0275text"](7,"Unidade"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"mat-select",5,6),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyBranchIdValue=e})("selectionChange",function(){return t.getStockDeposits({showLoader:!0})}),p["\u0275\u0275template"](10,Re,2,3,"mat-option",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"button",8),p["\u0275\u0275listener"]("click",function(){return t.getStockDeposits({showLoader:!0})}),p["\u0275\u0275text"](12,"Atualizar"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](13,$e,4,0,"button",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"div",1),p["\u0275\u0275elementStart"](15,"div",10),p["\u0275\u0275elementStart"](16,"div",1),p["\u0275\u0275template"](17,Ye,10,2,"div",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](18,Je,12,1,"div",12),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275reference"](9);p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngModel",t.companyBranchIdValue),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companyBranches),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("disabled",!n.value),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",n.value),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngForOf",t.deposits),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.deposits.length)}},directives:[y.KE,y.hX,E.gD,m.JJ,m.On,s.sg,I.lW,s.O5,w.ey,M.Hw,Ve.a8,Ve.dk,Ve.n5,Ve.dn,Ve.hq],styles:[".stock-table[_ngcontent-%COMP%]{width:100%}.stock-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.stock-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .stock-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px}"]}),e}(),Ze=[{path:"",component:(We=function(){function e(){o(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}(),We.\u0275fac=function(e){return new(e||We)},We.\u0275cmp=p["\u0275\u0275defineComponent"]({type:We,selectors:[["app-stock"]],decls:1,vars:0,template:function(e,t){1&e&&p["\u0275\u0275element"](0,"router-outlet")},directives:[d.lC],styles:[""]}),We),children:[{path:"deposits",component:G},{path:"stock-control",component:Xe}]}],Ke=function(){var e=function e(){o(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({imports:[[d.Bz.forChild(Ze)],d.Bz]}),e}(),et=i(6591),tt=i(44466),nt=i(35503),ot=((Qe=function e(){o(this,e)}).\u0275fac=function(e){return new(e||Qe)},Qe.\u0275mod=p["\u0275\u0275defineNgModule"]({type:Qe}),Qe.\u0275inj=p["\u0275\u0275defineInjector"]({imports:[[s.ez,et.h,Ke,tt.m,m.UX,m.u5,nt.D]]}),Qe)},35503:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(37716),a=function(){var e=function e(){o(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({}),e}()},44466:function(e,t,n){"use strict";n.d(t,{m:function(){return m}});var r=n(6591),a=n(35503),i=n(38583),l=n(69129),c=n(3679),s=n(44836),d=n(37716),m=function(){var e=function e(){o(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[r.h,a.D,i.ez,l.yI,c.UX,c.u5,s.GooglePlaceModule],l.yI]}),e}()}}])}();