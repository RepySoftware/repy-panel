(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7itd":function(e,t,n){!function(e,t,n){"use strict";var o=function(){return function(e){e&&Object.assign(this,e)}}(),i=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new o),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){e.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var n=0,o=t;n<o.length;n++){var i=o[n];i&&i.addEventListener("touchend",function(e){e.stopImmediatePropagation()})}}},500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run(function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)})},t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={options:[{type:n.Input,args:["options"]}],onAddressChange:[{type:n.Output}]},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}();t.GooglePlaceModule=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({factory:function(e){return new(e||t)}}),t}(),t.GooglePlaceDirective=i,Object.defineProperty(t,"__esModule",{value:!0})}(n("fXoL"),t,n("fXoL"))},PCNd:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("ssao"),i=n("iTUp"),a=n("ofXK"),r=n("tmjD"),s=n("3Pt+"),c=n("7itd"),l=n("fXoL");let m=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.a,i.a,a.c,r.b,s.r,s.i,c.GooglePlaceModule],r.b]}),e})()},iTUp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("fXoL");let i=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})()},sfnj:function(e,t,n){"use strict";n.r(t),n.d(t,"StockModule",function(){return U});var o=n("ofXK"),i=n("tyNb"),a=n("3Pt+"),r=n("0IaG"),s=n("fXoL"),c=n("5dVO"),l=n("2g2N"),m=n("xqXW"),d=n("q3OW"),p=n("kmnG"),u=n("qFsG"),h=n("d3UM"),f=n("bTqV"),g=n("IpZF"),v=n("FKr1");function y(e,t){1&e&&s["\u0275\u0275element"](0,"button-dialog-close")}function w(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h3",12),s["\u0275\u0275text"](1,"Novo dep\xf3sito"),s["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h3",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Edi\xe7\xe3o ",e.deposit.name,"")}}function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),s["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-option",13),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function C(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Este campo \xe9 obrigat\xf3rio "),s["\u0275\u0275elementEnd"]())}let I=(()=>{class e{constructor(e,t,n,o,i,a){this._loader=e,this._toast=t,this._depositService=n,this._companyBranchService=o,this._dialogRef=i,this.inputData=a,this.companyBranches=[],this.initForm()}ngOnInit(){this.getCompanyBranches(),this.inputData.depositId&&this.getDeposit().then(()=>this.setFormValues())}initForm(){this.depositForm=new a.g({name:new a.e(null,a.s.required),companyBranch:new a.e(null,a.s.required)})}setFormValues(){this.depositForm.get("name").setValue(this.deposit.name),this.depositForm.get("companyBranch").setValue(this.deposit.companyBranch.id)}getDeposit(){return new Promise((e,t)=>{this._loader.show(),this._depositService.getById(this.inputData.depositId).subscribe(t=>{this._loader.dismiss(),this.deposit=t,e(t)},e=>{this._loader.dismiss(),this._toast.showHttpError(e),t(e)})})}getCompanyBranches(){this._companyBranchService.getAll().subscribe(e=>{this.companyBranches=e},e=>{this._toast.showHttpError(e)})}save(){if(!this.depositForm.valid)throw this.depositForm.markAllAsTouched(),this._toast.open("Preencha todos os campos obrigat\xf3rios"),new Error("Invalid form");const e={name:this.depositForm.get("name").value,companyBranchId:this.depositForm.get("companyBranch").value};let t;this.deposit?(e.id=this.deposit.id,t=this._depositService.update(e)):t=this._depositService.create(e),this._loader.show(),t.subscribe(e=>{this._loader.dismiss(),this._toast.open("Salvo com sucesso!","success"),this.deposit=e,this.initForm(),this.setFormValues(),this._dialogRef.close({hasUpdate:!0})},e=>{this._loader.dismiss(),this._toast.showHttpError(e)})}get isModal(){return!!this.inputData}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](r.g),s["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-deposit-form"]],decls:25,vars:7,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12"],["class","title",4,"ngIf"],[3,"formGroup"],[1,"col-12"],["matInput","","placeholder","Nome","autocomplete","off","formControlName","name"],["name",""],["formControlName","companyBranch"],["type",""],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",2,"margin","24px 0",3,"click"],[1,"title"],[3,"value"]],template:function(e,t){if(1&e&&(s["\u0275\u0275template"](0,y,1,0,"button-dialog-close",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275template"](3,w,2,0,"h3",3),s["\u0275\u0275template"](4,E,2,1,"h3",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"form",4),s["\u0275\u0275elementStart"](6,"div",1),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275elementStart"](8,"mat-form-field"),s["\u0275\u0275element"](9,"input",6,7),s["\u0275\u0275template"](11,b,2,0,"mat-error",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",5),s["\u0275\u0275elementStart"](13,"mat-form-field"),s["\u0275\u0275elementStart"](14,"mat-label"),s["\u0275\u0275text"](15,"Unidade"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"mat-select",8,9),s["\u0275\u0275template"](18,S,2,2,"mat-option",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,C,2,0,"mat-error",0),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"hr"),s["\u0275\u0275elementStart"](21,"div",1),s["\u0275\u0275elementStart"](22,"div",2),s["\u0275\u0275elementStart"](23,"button",11),s["\u0275\u0275listener"]("click",function(){return t.save()}),s["\u0275\u0275text"](24,"Salvar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](10);s["\u0275\u0275property"]("ngIf",t.isModal),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.deposit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.deposit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",t.depositForm),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",!e.valid),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngForOf",t.companyBranches),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.depositForm.get("companyBranch").valid)}},directives:[o.m,a.t,a.n,a.h,p.c,u.b,a.d,a.m,a.f,p.f,h.a,o.l,f.a,g.a,p.b,v.k],styles:[""]}),e})();var x=n("K6Ak"),_=n("+0xr"),j=n("NFeN");function D(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",11),s["\u0275\u0275text"](1,"#"),s["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.id)}}function P(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",11),s["\u0275\u0275text"](1,"Nome"),s["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function B(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",11),s["\u0275\u0275text"](1,"Unidade"),s["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.companyBranch.name," ")}}function A(e,t){1&e&&s["\u0275\u0275element"](0,"th",11)}function M(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",12),s["\u0275\u0275elementStart"](1,"a",13),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"]().openForm(n.id)}),s["\u0275\u0275elementStart"](2,"mat-icon"),s["\u0275\u0275text"](3,"edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function O(e,t){1&e&&s["\u0275\u0275element"](0,"tr",14)}function L(e,t){1&e&&s["\u0275\u0275element"](0,"tr",15)}let G=(()=>{class e{constructor(e,t,n,o,i){this._loader=e,this._toast=t,this._depositService=n,this._dialog=o,this._title=i,this.deposits=[],this.tableColumns=["id","name","companyBranch","options"]}ngOnInit(){this._title.set("Dep\xf3sitos"),this.getDeposits()}getDeposits(){return new Promise((e,t)=>{this._loader.show(),this._depositService.getAll().subscribe(t=>{this._loader.dismiss(),this.deposits=t,e()},e=>{this._loader.dismiss(),this._toast.showHttpError(e),t()})})}openForm(e){this._dialog.open(I,{width:"90%",height:"90%",data:{depositId:e}}).afterClosed().subscribe(e=>{e&&e.hasUpdate&&this.getDeposits()})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](r.b),s["\u0275\u0275directiveInject"](x.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-deposits"]],decls:20,vars:3,consts:[[2,"font-size","32px","margin","16px"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","companyBranch"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["href","javascript:;","mat-fab","","color","primary",1,"btn-add",3,"click"],["mat-header-cell",""],["mat-cell",""],["href","javascript:;",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h1",0),s["\u0275\u0275text"](1,"Dep\xf3sitos"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"table",1),s["\u0275\u0275elementContainerStart"](3,2),s["\u0275\u0275template"](4,D,2,0,"th",3),s["\u0275\u0275template"](5,F,2,1,"td",4),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](6,5),s["\u0275\u0275template"](7,P,2,0,"th",3),s["\u0275\u0275template"](8,k,2,1,"td",4),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](9,6),s["\u0275\u0275template"](10,B,2,0,"th",3),s["\u0275\u0275template"](11,N,2,1,"td",4),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](12,7),s["\u0275\u0275template"](13,A,1,0,"th",3),s["\u0275\u0275template"](14,M,4,0,"td",4),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275template"](15,O,1,0,"tr",8),s["\u0275\u0275template"](16,L,1,0,"tr",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"button",10),s["\u0275\u0275listener"]("click",function(){return t.openForm()}),s["\u0275\u0275elementStart"](18,"mat-icon"),s["\u0275\u0275text"](19,"add"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("dataSource",t.deposits),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("matHeaderRowDef",t.tableColumns),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matRowDefColumns",t.tableColumns))},directives:[_.j,_.c,_.e,_.b,_.g,_.i,f.a,j.a,_.d,_.a,_.f,_.h],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:64px;background:#eee;z-index:10}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:26px;right:30px}"]}),e})();const R=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stock"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[i.h],styles:[""]}),e})(),children:[{path:"deposits",component:G}]}];let V=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(R)],i.g]}),e})();var X=n("ssao"),H=n("PCNd");let U=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,X.a,V,H.a,a.r]]}),e})()}}]);