<div class="header-options">

    <div class="refresh">
        <button mat-flat-button
                color="primary"
                (click)="refreshSaleOrders()">Atualizar</button>
    </div>

    <div class="add-driver">
        <app-autocomplete #employeeDriverAutocomplete
                          [options]="employeeDriverSearchAutocompleteOptions"></app-autocomplete>
    </div>
</div>

<div cdkDropListGroup
     class="board">

    <div class="column-container"
         *ngFor="let column of board.columns">

        <div class="column-header">
            <h2>{{ column.title }}</h2>
            <mat-icon class="column-close"
                      *ngIf="!column.undefinedDriver"
                      (click)="removeColumn(column.employeeDriverId)">close</mat-icon>
        </div>

        <div cdkDropList
             [cdkDropListData]="column.cards"
             class="card-list"
             (cdkDropListDropped)="drop($event, column)">

            <div class="card-box"
                 *ngFor="let card of column.cards"
                 cdkDrag>

                <div class="card-custom-placeholder"
                     *cdkDragPlaceholder></div>

                <!-- <div class="card-handle"
                     cdkDragHandle>
                    <mat-icon style="cursor: move;">open_with</mat-icon>
                </div> -->

                <div class="id">#{{ card.saleOrder.id }}</div>
                <div class="customer">{{ card.saleOrder.personCustomer.name }}</div>
                <div class="products">{{ card.saleOrder.products |
                    map:'companyBranchProduct.product.name'
                    }}
                </div>
                <div class="address">
                    <a href="javascript:;"
                       (click)="copyAddressToClipboard(card.saleOrder.deliveryAddress)">
                        {{card.saleOrder.deliveryAddress.description}}
                        {{
                        card.saleOrder.deliveryAddress.complement ? '(compl: '+
                        card.saleOrder.deliveryAddress.complement
                        +')'
                        :
                        '' }}
                    </a>
                </div>
                <div class="date">{{ card.saleOrder.createdAt | momentDate }}</div>

                <div style="width: 100%;">
                    <button mat-stroked-button
                            class="confirm-delivery"
                            color="primary"
                            (click)="openConfirmDelivery(card.saleOrder)"
                            *ngIf="!column.undefinedDriver">
                        <mat-icon>check</mat-icon>
                    </button>
                </div>

            </div>
        </div>
    </div>

</div>